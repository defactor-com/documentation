"use strict";(self.webpackChunkdocus=self.webpackChunkdocus||[]).push([[1084],{4736:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>d,contentTitle:()=>r,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>c});var o=a(4848),n=a(8453);const s={title:"Add New Pool Metadata",sidebar_position:2},r="Adding Pool Metadata Using the API",i={id:"resources/howto-metadata-config",title:"Add New Pool Metadata",description:"In Defactor, pool metadata is stored in a database rather than on-chain. As a result, when new Defactor instances are deployed (or if the database is cleared for any reason), the metadata must be manually saved back to the database. The best way to do this is by calling the API endpoint /v1/update-pool-metadata.",source:"@site/docs/resources/howto-metadata-config.md",sourceDirName:"resources",slug:"/resources/howto-metadata-config",permalink:"/docs/resources/howto-metadata-config",draft:!1,unlisted:!1,editUrl:"https://github.com/defactor-com/documentation/tree/main/docs/resources/howto-metadata-config.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"Add New Pool Metadata",sidebar_position:2},sidebar:"docSidebar",previous:{title:"Additional Resources",permalink:"/docs/resources/additional-resources"},next:{title:"Deploy a New Pools Instance",permalink:"/docs/resources/howto-pools-config"}},d={},c=[{value:"Metadata Structure",id:"metadata-structure",level:2},{value:"Metadata Attributes",id:"metadata-attributes",level:3},{value:"Best Practices",id:"best-practices",level:3}];function l(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,n.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.h1,{id:"adding-pool-metadata-using-the-api",children:"Adding Pool Metadata Using the API"}),"\n",(0,o.jsxs)(t.p,{children:["In Defactor, pool metadata is stored in a database rather than on-chain. As a result, when new Defactor instances are deployed (or if the database is cleared for any reason), the metadata must be manually saved back to the database. The best way to do this is by calling the API endpoint ",(0,o.jsx)(t.code,{children:"/v1/update-pool-metadata"}),"."]}),"\n",(0,o.jsxs)(t.p,{children:["For more information, please see the ",(0,o.jsx)(t.a,{href:"https://defactor.dev/docs/back-end-api/erc20CollateralToken/restful#update-pool-metadata",children:"API documentation"}),"."]}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.strong,{children:"Note:"})," Pools without metadata are hidden from the UI."]}),"\n",(0,o.jsx)(t.h2,{id:"metadata-structure",children:"Metadata Structure"}),"\n",(0,o.jsxs)(t.p,{children:["The metadata is stored as a JSONB object within the ",(0,o.jsx)(t.code,{children:"pools"})," table in the database. This is a non-normalized structure, providing flexibility for each implementation to add data that uniquely describes its pool."]}),"\n",(0,o.jsx)(t.p,{children:"The following JSON example shows the structure and attributes required by the frontend:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-json",children:'{\n    "pool": {\n        "id": "1",\n        "name": "FACTR Pool 1",\n        "description": "FACTR is a tool that facilitates the connection between the traditional world of assets and the decentralized ecosystem of cryptocurrencies. Explore more about Defactor and its potential in the financial world!",\n        "logo": "https://assets.coingecko.com/coins/images/19201/standard/jFLSu4U9_400x400.png?1696518648",\n        "collateralToken": {\n          "logo": "https://assets.coingecko.com/coins/images/19201/standard/jFLSu4U9_400x400.png?1696518648"\n        }\n    }\n}\n'})}),"\n",(0,o.jsx)(t.h3,{id:"metadata-attributes",children:"Metadata Attributes"}),"\n",(0,o.jsx)(t.p,{children:"Here's a description of each attribute in the metadata used by the UI:"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"id:"})," The internal pool ID in the database."]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"name:"})," The name of the pool."]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"description:"})," A brief description of the pool."]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"logo:"})," The logo URL representing the pool."]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"collateralToken:"})," Information about the token used as collateral.","\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"logo:"})," The URL of the collateral token's logo."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(t.h3,{id:"best-practices",children:"Best Practices"}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.strong,{children:"Important:"})," Make sure to update the pool metadata promptly after spinning up a new Defactor instance or if the database is cleared. Proper metadata ensures pools are visible in the UI and accurately represented."]})]})}function h(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},8453:(e,t,a)=>{a.d(t,{R:()=>r,x:()=>i});var o=a(6540);const n={},s=o.createContext(n);function r(e){const t=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:r(e.components),o.createElement(s.Provider,{value:t},e.children)}}}]);