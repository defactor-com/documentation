"use strict";(self.webpackChunkdocus=self.webpackChunkdocus||[]).push([[4684],{1419:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>i,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>a,toc:()=>t});var r=s(4848),o=s(8453);const l={title:"Endpoints List GraphQL API",sidebar_position:2},c=void 0,a={id:"pools/back-end/api/counterpartyPools/graphql",title:"Endpoints List GraphQL API",description:"The Defactor Postman Collection comprises a suite of pre-configured API requests designed for seamless integration into the Postman application, facilitating access to the services offered by the Defactor API.",source:"@site/docs/pools/back-end/api/counterpartyPools/graphql.md",sourceDirName:"pools/back-end/api/counterpartyPools",slug:"/pools/back-end/api/counterpartyPools/graphql",permalink:"/docs/pools/back-end/api/counterpartyPools/graphql",draft:!1,unlisted:!1,editUrl:"https://github.com/defactor-com/documentation/tree/main/docs/pools/back-end/api/counterpartyPools/graphql.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"Endpoints List GraphQL API",sidebar_position:2},sidebar:"docSidebar",previous:{title:"Endpoints List RESTful API",permalink:"/docs/pools/back-end/api/counterpartyPools/restful"},next:{title:"ERC20CollateralToken",permalink:"/docs/category/erc20collateraltoken"}},i={},t=[{value:"Security Details",id:"security-details",level:2},{value:"Authentication",id:"authentication",level:2},{value:"<code>Login</code>",id:"login",level:3},{value:"<code>Restore Session</code>",id:"restore-session",level:3},{value:"Pools",id:"pools",level:2},{value:"<code>Create Pool</code>",id:"create-pool",level:3},{value:"<code>Get Pool</code>",id:"get-pool",level:3},{value:"<code>Get Pools</code>",id:"get-pools",level:3},{value:"<code>Get Total Pools</code>",id:"get-total-pools",level:3},{value:"<code>Update Pool Metadata</code>",id:"update-pool-metadata",level:3},{value:"<code>Close Pool</code>",id:"close-pool",level:3},{value:"<code>Archive Pool</code>",id:"archive-pool",level:3},{value:"Lend",id:"lend",level:2},{value:"<code>Lend</code>",id:"lend-1",level:3},{value:"<code>Repay</code>",id:"repay",level:3},{value:"<code>Claim Rewards</code>",id:"claim-rewards",level:3},{value:"<code>Reclaim Loan</code>",id:"reclaim-loan",level:3},{value:"Borrow",id:"borrow",level:2},{value:"<code>Borrow</code>",id:"borrow-1",level:3},{value:"Utilities",id:"utilities",level:2},{value:"<code>Erc20 Approve</code>",id:"erc20-approve",level:3},{value:"<code>Get Usdc</code>",id:"get-usdc",level:3},{value:"<code>Config</code>",id:"config",level:3},{value:"Error Reference",id:"error-reference",level:2},{value:"Error Response Format",id:"error-response-format",level:3},{value:"Types of Error",id:"types-of-error",level:3}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"The Defactor Postman Collection comprises a suite of pre-configured API requests designed for seamless integration into the Postman application, facilitating access to the services offered by the Defactor API."}),"\n",(0,r.jsx)(n.p,{children:"This API offers dual modes of interaction with the smart contract: firstly, via the RESTful API; and secondly, through the GraphQL API."}),"\n",(0,r.jsx)(n.p,{children:"It facilitates interaction with various Pools smart contracts by providing an intuitive interface that maps the actions to straightforward concepts, such as create, lend, borrow, repaid, etc. Also, it enables seamless communication with smart contracts configured across multiple blockchain networks. It is necessary to specify the network and contract name in each request payload."}),"\n",(0,r.jsxs)(n.p,{children:["Outlined below is a detailed overview of the API's functionalities, leveraging a designated instance of the ",(0,r.jsx)(n.code,{children:"counterpartypool"})," contract as the primary data source."]}),"\n",(0,r.jsxs)(n.admonition,{type:"info",children:[(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"counterpartypool"})," contract is based on a token that follows the ",(0,r.jsx)(n.code,{children:"erc20"})," token standard that has a set precision. For example it can be ",(0,r.jsx)(n.code,{children:"usdc"}),", ",(0,r.jsx)(n.code,{children:"euroc"})," with a exactly a precision of 6 or any other token that meets the above mentioned requirements."]}),(0,r.jsx)(n.p,{children:"Then, 10500000 is equivalent to 10.5 USDC."})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"security-details",children:"Security Details"}),"\n",(0,r.jsxs)(n.p,{children:["To secure the API access control, all requests are made through ",(0,r.jsx)(n.a,{href:"https://hasura.io/",children:"Hasura"})," which provides secure GraphQL, and RESTful endpoints restricted by a role-based authorization system."]}),"\n",(0,r.jsxs)(n.p,{children:["Those endpoints that return public blockchain data do not require authentication for use. Query type requests are opened under the ",(0,r.jsx)(n.code,{children:"guest"})," role, while mutation type needs a token with ",(0,r.jsx)(n.code,{children:"admin"})," role."]}),"\n",(0,r.jsx)(n.p,{children:"For those that can modify data the API expects a valid authorization header containing a bearer token. These tokens are implemented as JSON Web Tokens (JWTs) issued by the server."}),"\n",(0,r.jsx)(n.p,{children:"The security of the JWT is because it is signed by a secret key and has a configurable expiration time, which by default is 60 minutes."}),"\n",(0,r.jsx)(n.p,{children:"Upon receiving a request, Hasura decodes and validates the JWT, which contains user account data, and their corresponding role. If the role lacks the necessary permissions or the token is invalid, expired or missing, the request is promptly rejected."}),"\n",(0,r.jsx)(n.h2,{id:"authentication",children:"Authentication"}),"\n",(0,r.jsx)(n.h3,{id:"login",children:(0,r.jsx)(n.code,{children:"Login"})}),"\n",(0,r.jsx)(n.p,{children:"Return a JSON Web Token (JWT) access token and refresh token. By default, the access token has a maturity of 60 minutes, but it may vary depending on the server configuration."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"HTTP Request Method"}),": POST"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Roles"}),": Admin"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"GraphQL URL"}),": ",(0,r.jsx)(n.code,{children:"{{BASE_URL}}/v1/graphql"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"GraphQL Body"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-graphql",children:"mutation v1Login($session: LoginInput!) {\n  v1Login(session: $session) {\n    res\n    success\n  }\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"GraphQL Variables"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "session": {\n    "address": "0xa8983Fe59b2F08F9F1B3E833c5D47B256F7FE0d5"\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response"})}),"\n",(0,r.jsx)(n.p,{children:"Upon successful completion of a request, the server will issue a status code of 200 along with a JSON object encapsulating the generated access token and refresh token. This object encompasses the following attributes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "v1Login": {\n    "res": {\n      "accessToken": "<jwt>",\n      "refreshToken": "0a1a6d5f-1bf9-4540-8c22-d9442a75476f"\n    },\n    "success": true\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"restore-session",children:(0,r.jsx)(n.code,{children:"Restore Session"})}),"\n",(0,r.jsx)(n.p,{children:"Return a new access and refresh token."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"HTTP Request Method"}),": POST"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Roles"}),": Admin"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"GraphQL URL"}),": ",(0,r.jsx)(n.code,{children:"{{BASE_URL}}/v1/graphql"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"GraphQL Body"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-graphql",children:"mutation v1RestoreSession($session: RestoreSessionInput!) {\n  v1RestoreSession(session: $session) {\n    res\n    success\n  }\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"GraphQL Variables"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "session": {\n    "refreshToken": "c1c713d8-1088-4488-87c2-ff290df78cae"\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response"})}),"\n",(0,r.jsx)(n.p,{children:"Upon successful completion of a request, the server will issue a status code of 200 along with a JSON object encapsulating the generated access token and refresh token. This object encompasses the following attributes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "v1RestoreSession": {\n    "res": {\n      "accessToken": "<jwt>",\n      "refreshToken": "0a1a6d5f-1bf9-4540-8c22-d9442a75476f"\n    },\n    "success": true\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"pools",children:"Pools"}),"\n",(0,r.jsxs)(n.p,{children:["Unlike the contract, the status are in lowercase; Additionally, to streamline interaction the API include intermediate status such as ",(0,r.jsx)(n.code,{children:"collectable"}),", ",(0,r.jsx)(n.code,{children:"closable"}),", and ",(0,r.jsx)(n.code,{children:"archivable"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"To maintain a common interface between API endpoints the structure of the counterparty pool is mapped as follows:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Counterparty Pool contract"}),(0,r.jsx)(n.th,{children:"API"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"totalCommitted"}),(0,r.jsx)(n.td,{children:"supplied"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"deadline"}),(0,r.jsx)(n.td,{children:"endTime (as Date)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"createdAt"}),(0,r.jsx)(n.td,{children:"startDate (as Date)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"minimumAPR"}),(0,r.jsx)(n.td,{children:"interest (as Percentage)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"totalRewards"}),(0,r.jsx)(n.td,{children:"repaid"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"rewardsPaidOut"}),(0,r.jsx)(n.td,{children:"rewards"})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"collateralDetails"})," is an array which each element has the following properties:"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Property"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"contractAddress"})}),(0,r.jsx)(n.td,{children:"The address where the collateral token is deployed."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"amount"})}),(0,r.jsx)(n.td,{children:"The amount of tokens that are put as collateral."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"id"})}),(0,r.jsx)(n.td,{children:"Optional id if collateral is an ERC721 contract."})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"create-pool",children:(0,r.jsx)(n.code,{children:"Create Pool"})}),"\n",(0,r.jsxs)(n.p,{children:["Create a new pool with the indicated collateral tokens using the ",(0,r.jsx)(n.code,{children:"collateralDetails"})," schema."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"HTTP Request Method"}),": POST"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Roles"}),": Admin"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"GraphQL URL"}),": ",(0,r.jsx)(n.code,{children:"{{BASE_URL}}/v1/graphql"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"GraphQL Body"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-graphql",children:"mutation ($pool: CreatePoolInput!) {\n  v1CreatePool(pool: $pool) {\n    res\n    success\n  }\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"GraphQL Variables"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "pool": {\n    "network": "{{NETWORK_NAME}}",\n    "contractName": "counterparty-pool",\n    "data": {\n      "endTime": "2024-08-09T23:58:00.000",\n      "interest": 10,\n      "softCap": "300000000", // 300 USDC\n      "hardCap": "800000000", // 800 USDC\n      "collateralDetails": [{\n        "address": "0xa8983Fe59b2F08F9F1B3E833c5D47B256F7FE0d5",\n        "amount": "500000000",\n      }]\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response"})}),"\n",(0,r.jsx)(n.p,{children:"Upon successful completion of a request, the server will issue a status code of 200 along with a JSON object encapsulating pertinent blockchain transaction details. This object encompasses the following attributes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "v1CreatePool": {\n    "res": {\n      "_type": "TransactionResponse",\n      "accessList": [],\n      "blobVersionedHashes": null,\n      "blockHash": null,\n      "blockNumber": null,\n      "chainId": "80001",\n      "from": "0xa8983Fe59b2F08F9F1B3E833c5D47B256F7FE0d5",\n      "gasLimit": "150012",\n      "gasPrice": null,\n      "hash": "0x68dc6f65b96a427c4c289371637b063bbe20d9841d6c8183f06e657ab10efb1e",\n      .\n      .\n      .\n    },\n    "success": true\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"get-pool",children:(0,r.jsx)(n.code,{children:"Get Pool"})}),"\n",(0,r.jsxs)(n.p,{children:["Retrieves the data associated with the specified ",(0,r.jsx)(n.code,{children:"poolId"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"HTTP Request Method"}),": POST"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Roles"}),": Guest"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"GraphQL URL"}),": ",(0,r.jsx)(n.code,{children:"{{BASE_URL}}/v1/graphql"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"GraphQL Body"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-graphql",children:"mutation ($pool: GetPoolInput!) {\n  v1GetPool(pool: $pool) {\n    res\n    success\n  }\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"GraphQL Variables"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "pool": {\n    "network": "{{NETWORK_NAME}}",\n    "contractName": "counterparty-pool",\n    "poolId": "0"\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response"})}),"\n",(0,r.jsx)(n.p,{children:"Upon successful request completion, the server will return a status code of 200 along with a JSON object containing pool information. This object encompasses the following attributes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "v1GetPool": {\n    "res": {\n      "borrowed": "980000",\n      "closedTime": "2024-07-18T20:45:30.000Z",\n      "collateralDetails": [],\n      "endTime": "2024-07-18T20:44:07.000Z",\n      "hardCap": "5000000",\n      "id": "0",\n      "interest": 1,\n      "metadata": {\n        "collateralDetails": []\n      },\n      "poolOwner": "0xa8983Fe59b2F08F9F1B3E833c5D47B256F7FE0d5",\n      "repaid": "2000000",\n      "rewards": "2000000",\n      "softCap": "3000000",\n      "startDate": "2024-07-18T20:43:12.000Z",\n      "status": "closed",\n      "supplied": "1000000"\n    },\n    "success": true\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"get-pools",children:(0,r.jsx)(n.code,{children:"Get Pools"})}),"\n",(0,r.jsxs)(n.p,{children:["Retrieves the data associated with the ",(0,r.jsx)(n.code,{children:"pools"})," specified in the pagination parameters. If the offset exceeds the total number of pools, the API will return an empty list."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"HTTP Request Method"}),": POST"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Roles"}),": Guest"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"GraphQL URL"}),": ",(0,r.jsx)(n.code,{children:"{{BASE_URL}}/v1/graphql"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"GraphQL Body"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-graphql",children:"mutation ($pool: PaginationInput!) {\n  v1GetPools(pool: $pool) {\n    res\n    success\n  }\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"GraphQL Variables"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "pool": {\n    "network": "{{NETWORK_NAME}}",\n    "contractName": "counterparty-pool",\n    "offset": "0",\n    "limit": "30"\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response"})}),"\n",(0,r.jsx)(n.p,{children:"Upon successful request completion, the server will respond with a status code of 200, accompanied by a JSON object containing information regarding the pools. This object comprises the following attributes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "v1GetPools": {\n    "res": {\n    "data":\n      [{\n        "borrowed": "980000",\n        "collateralDetails": [],\n        "endTime": "2024-07-19T20:42:26.000Z",\n        "hardCap": "5000000",\n        "id": "0",\n        "interest": 1,\n        "metadata": {\n          "collateralDetails": []\n        },\n        "poolOwner": "0xa8983Fe59b2F08F9F1B3E833c5D47B256F7FE0d5",\n        "repaid": "0",\n        "rewards": "0",\n        "softCap": "1000000",\n        "startDate": "2024-07-18T20:42:32.000Z",\n        "status": "collectable",\n        "supplied": "1000000"\n      },\n      .\n      .\n      .\n      ],\n      "more": false\n    },\n    "success": true\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"get-total-pools",children:(0,r.jsx)(n.code,{children:"Get Total Pools"})}),"\n",(0,r.jsxs)(n.p,{children:["Returns the count of pools created within the current instance of ",(0,r.jsx)(n.code,{children:"erc20collateraltoken"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"HTTP Request Method"}),": POST"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Roles"}),": Guest"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"GraphQL URL"}),": ",(0,r.jsx)(n.code,{children:"{{BASE_URL}}/v1/graphql"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"GraphQL Body"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-graphql",children:"mutation v1GetTotalPools($data: DefaultInput!) {\n  v1GetTotalPools(data: $data) {\n    res\n    success\n  }\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"GraphQL Variables"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "data": {\n    "network": "{{NETWORK_NAME}}",\n    "contractName": "counterparty-pool"\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response"})}),"\n",(0,r.jsx)(n.p,{children:"Upon successful request completion, the server will respond with a status code of 200 and a JSON object containing information about the total pools. This object includes the following attributes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "v1GetTotalPools": {\n    "res": "672",\n    "success": true\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"update-pool-metadata",children:(0,r.jsx)(n.code,{children:"Update Pool Metadata"})}),"\n",(0,r.jsx)(n.p,{children:"Update the pool metadata"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"HTTP Request Method"}),": POST"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Roles"}),": Admin"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"GraphQL URL"}),": ",(0,r.jsx)(n.code,{children:"{{BASE_URL}}/v1/graphql"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"GraphQL Body"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-graphql",children:"mutation ($pool: UpdatePoolMetadataInput!) {\n  v1UpdatePoolMetadata(pool: $pool) {\n    res\n    success\n  }\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"GraphQL Variables"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "pool": {\n    "network": "{{NETWORK_NAME}}",\n    "id": "0",\n    "contractName": "counterparty-pool",\n    "name": "FACTR Pool 0",\n    "description": "FACTR is a tool that facilitates the connection between the traditional world of assets and the decentralized ecosystem of cryptocurrencies. Explore more about Defactor and its potential in the financial world!",\n    "logo": "https://assets.coingecko.com/coins/images/19201/standard/jFLSu4U9_400x400.png?1696518648",\n    "collateralDetails": [\n      {\n        "address": "0x60E87395b0101F85C623c38Be010574f958496db",\n        "standard": "ERC20",\n        "logo": "https://assets.coingecko.com/coins/images/19201/standard/jFLSu4U9_400x400.png?1696518648"\n      }\n    ],\n    "termsConditions": {\n      "title": "What happens if I default on my loan?",\n      "description": "Liquidation is an essential process of lending activity, the process of liquidation occurs when the lending pool has reached its maturity date, are still outstanding and have not been repaid by the borrowers.",\n      "ref": {\n        "label": "Download Repayment Terms & Conditions",\n        "url": "https://www.defactor.com/"\n      }\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response"})}),"\n",(0,r.jsx)(n.p,{children:"Upon successful request completion, the server will issue a status code of 200 alongside a JSON object. This object incorporates the following attributes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:"{}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"close-pool",children:(0,r.jsx)(n.code,{children:"Close Pool"})}),"\n",(0,r.jsxs)(n.p,{children:["Close the specified ",(0,r.jsx)(n.code,{children:"poolId"})," if possible."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"HTTP Request Method"}),": POST"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Roles"}),": Guest"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"GraphQL URL"}),": ",(0,r.jsx)(n.code,{children:"{{BASE_URL}}/v1/graphql"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"GraphQL Body"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-graphql",children:"mutation ($pool: PoolDataInput!) {\n  v1ClosePool(pool: $pool) {\n    res\n    success\n  }\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"GraphQL Variables"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "pool": {\n    "network": "{{NETWORK_NAME}}",\n    "contractName": "counterparty-pool",\n    "data": {\n      "poolId": "0"\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response"})}),"\n",(0,r.jsx)(n.p,{children:"Upon successful completion of a request, the server will issue a status code of 200 along with a JSON object encapsulating pertinent blockchain transaction details. This object encompasses the following attributes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "v1ClosePool": {\n    "res": {\n      "_type": "TransactionResponse",\n      "accessList": [],\n      "blobVersionedHashes": null,\n      "blockHash": null,\n      "blockNumber": null,\n      "chainId": "80001",\n      "from": "0xa8983Fe59b2F08F9F1B3E833c5D47B256F7FE0d5",\n      "gasLimit": "150012",\n      "gasPrice": null,\n      "hash": "0x68dc6f65b96a427c4c289371637b063bbe20d9841d6c8183f06e657ab10efb1e",\n      .\n      .\n      .\n    },\n    "success": true\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"archive-pool",children:(0,r.jsx)(n.code,{children:"Archive Pool"})}),"\n",(0,r.jsxs)(n.p,{children:["Archive the specified ",(0,r.jsx)(n.code,{children:"poolId"})," if possible."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"HTTP Request Method"}),": POST"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Roles"}),": Guest"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"GraphQL URL"}),": ",(0,r.jsx)(n.code,{children:"{{BASE_URL}}/v1/graphql"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"GraphQL Body"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-graphql",children:"mutation ($pool: PoolDataInput!) {\n  v1ArchivePool(pool: $pool) {\n    res\n    success\n  }\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"GraphQL Variables"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "pool": {\n    "network": "{{NETWORK_NAME}}",\n    "contractName": "counterparty-pool",\n    "data": {\n      "poolId": "0"\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response"})}),"\n",(0,r.jsx)(n.p,{children:"Upon successful completion of a request, the server will issue a status code of 200 along with a JSON object encapsulating pertinent blockchain transaction details. This object encompasses the following attributes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "v1ArchivePool": {\n    "res": {\n      "_type": "TransactionResponse",\n      "accessList": [],\n      "blobVersionedHashes": null,\n      "blockHash": null,\n      "blockNumber": null,\n      "chainId": "80001",\n      "from": "0xa8983Fe59b2F08F9F1B3E833c5D47B256F7FE0d5",\n      "gasLimit": "150012",\n      "gasPrice": null,\n      "hash": "0x68dc6f65b96a427c4c289371637b063bbe20d9841d6c8183f06e657ab10efb1e",\n      .\n      .\n      .\n    },\n    "success": true\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"lend",children:"Lend"}),"\n",(0,r.jsx)(n.h3,{id:"lend-1",children:(0,r.jsx)(n.code,{children:"Lend"})}),"\n",(0,r.jsxs)(n.p,{children:["Lend to a pool the specific amount of the token on which the contract is based. This endpoint is equivalent to the action ",(0,r.jsx)(n.code,{children:"commitToPool"})," in the contract."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"HTTP Request Method"}),": POST"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Roles"}),": Admin"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"GraphQL URL"}),": ",(0,r.jsx)(n.code,{children:"{{BASE_URL}}/v1/graphql"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"GraphQL Body"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-graphql",children:"mutation v1Lend($loan: LendInput!) {\n  v1Lend(loan: $loan) {\n    res\n    success\n  }\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"GraphQL Variables"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "loan": {\n    "network": "{{NETWORK_NAME}}",\n    "contractName": "counterparty-pool",\n    "tx": "0x02f8b483aa36a70684208411a0850247082f388301dae194ec92ca91907fd64e446122953601e774fd3cd6e680b84418e0137200000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000190c001a0a9517b0049a5a3bcc4a2eefee336ae557eeb506bda6e1124b5283d7af37c20d0a05cf37832388a1a230e35561ff49d4c96f75952b48b1c964139eccd138e2f0b36"\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response"})}),"\n",(0,r.jsx)(n.p,{children:"Upon successful completion of a request, the server will issue a status code of 200 along with a JSON object encapsulating pertinent blockchain transaction details. This object encompasses the following attributes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "v1Lend": {\n    "res": {\n      "_type": "TransactionResponse",\n      "accessList": [],\n      "blobVersionedHashes": null,\n      "blockHash": null,\n      "blockNumber": null,\n      "chainId": "80001",\n      "from": "0xa8983Fe59b2F08F9F1B3E833c5D47B256F7FE0d5",\n      "gasLimit": "150012",\n      "gasPrice": null,\n      "hash": "0x68dc6f65b96a427c4c289371637b063bbe20d9841d6c8183f06e657ab10efb1e",\n      .\n      .\n      .\n    },\n    "success": true\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"repay",children:(0,r.jsx)(n.code,{children:"Repay"})}),"\n",(0,r.jsxs)(n.p,{children:["Repay a loan to a pool if it is ",(0,r.jsx)(n.code,{children:"active"})," and it has not already been repaid. This endpoint is equivalent to the action ",(0,r.jsx)(n.code,{children:"depositRewards"})," in the contract."]}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"counterpartypool"})," contract needs the approval to spend money on behalf of the borrower, to give the approve the ",(0,r.jsx)(n.a,{href:"#erc20-approve",children:(0,r.jsx)(n.code,{children:"erc20 approve"})})," endpoint could be used. The amount to approve must be greater than ",(0,r.jsx)(n.code,{children:"pool.supplied + (pool.supplied * pool.interest / 100)."})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"HTTP Request Method"}),": POST"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Roles"}),": Admin"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"GraphQL URL"}),": ",(0,r.jsx)(n.code,{children:"{{BASE_URL}}/v1/graphql"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"GraphQL Body"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-graphql",children:"mutation ($loan: RepayInput!) {\n  v1Repay(loan: $loan) {\n    res\n    success\n  }\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"GraphQL Variables"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "loan": {\n    "network": "{{NETWORK_NAME}}",\n    "contractName": "counterparty-pool",\n    "tx": "0x02f8b3830138825b844190ab00844190ab1e8302d712940a2e94dd0d8efa9598f3fa7287f888dc03add28880b844d8aed14500000000000000000000000000000000000000000000000000000000000000250000000000000000000000000000000000000000000000000000000000000000c080a0afe1724c94d340b1a2304b3db1ad2b83d2f00740a21b81ba682979522c667683a06686ecda38010bec2694f9c10bd974e89ca7aeb0a9957d019353803f4e0356fa"\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response"})}),"\n",(0,r.jsx)(n.p,{children:"Upon successful completion of a request, the server will issue a status code of 200 along with a JSON object encapsulating pertinent blockchain transaction details. This object encompasses the following attributes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "v1Repay": {\n    "res": {\n      "_type": "TransactionResponse",\n      "accessList": [],\n      "blobVersionedHashes": null,\n      "blockHash": null,\n      "blockNumber": null,\n      "chainId": "80001",\n      "from": "0xa8983Fe59b2F08F9F1B3E833c5D47B256F7FE0d5",\n      "gasLimit": "150012",\n      "gasPrice": null,\n      "hash": "0x68dc6f65b96a427c4c289371637b063bbe20d9841d6c8183f06e657ab10efb1e",\n      .\n      .\n      .\n    },\n    "success": true\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"claim-rewards",children:(0,r.jsx)(n.code,{children:"Claim Rewards"})}),"\n",(0,r.jsxs)(n.p,{children:["Allows the owner of the address, if they have not already done so, to claim the rewards the pool must be active or closed. This endpoints it equivalent to the action ",(0,r.jsx)(n.code,{children:"claim"})," in the contract."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"HTTP Request Method"}),": POST"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Roles"}),": Admin"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"GraphQL URL"}),": ",(0,r.jsx)(n.code,{children:"{{BASE_URL}}/v1/graphql"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"GraphQL Body"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-graphql",children:"mutation v1ClaimRewards($loan: ClaimRewardsInput!) {\n  v1ClaimRewards(loan: $loan) {\n    res\n    success\n  }\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"GraphQL Variables"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "loan": {\n    "network": "{{NETWORK_NAME}}",\n    "contractName": "counterparty-pool",\n    "data": {\n      "poolId": "0"\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response"})}),"\n",(0,r.jsx)(n.p,{children:"Upon successful completion of a request, the server will issue a status code of 200 along with a JSON object encapsulating pertinent blockchain transaction details. This object encompasses the following attributes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "v1ClaimRewards": {\n    "res": {\n      "_type": "TransactionResponse",\n      "accessList": [],\n      "blobVersionedHashes": null,\n      "blockHash": null,\n      "blockNumber": null,\n      "chainId": "80001",\n      "from": "0xa8983Fe59b2F08F9F1B3E833c5D47B256F7FE0d5",\n      "gasLimit": "150012",\n      "gasPrice": null,\n      "hash": "0x68dc6f65b96a427c4c289371637b063bbe20d9841d6c8183f06e657ab10efb1e",\n      .\n      .\n      .\n    },\n    "success": true\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"reclaim-loan",children:(0,r.jsx)(n.code,{children:"Reclaim Loan"})}),"\n",(0,r.jsxs)(n.p,{children:["If possible recover the supplied amount to a pool. This endpoint is equivalent to the action ",(0,r.jsx)(n.code,{children:"uncommitFromPool"})," in the contract."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"HTTP Request Method"}),": POST"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Roles"}),": Guest"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"GraphQL URL"}),": ",(0,r.jsx)(n.code,{children:"{{BASE_URL}}/v1/graphql"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"GraphQL Body"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-graphql",children:"mutation v1ReclaimLoan($loan: PoolDataInput!) {\n  v1ReclaimLoan(loan: $loan) {\n    res\n    success\n  }\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"GraphQL Variables"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "loan": {\n    "network": "{{NETWORK_NAME}}",\n    "contractName": "counterparty-pool",\n    "tx": "0x02f8b483aa36a70684208411a0850247082f388301dae194ec92ca91907fd64e446122953601e774fd3cd6e680b84418e0137200000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000190c001a0a9517b0049a5a3bcc4a2eefee336ae557eeb506bda6e1124b5283d7af37c20d0a05cf37832388a1a230e35561ff49d4c96f75952b48b1c964139eccd138e2f0b36"\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response"})}),"\n",(0,r.jsx)(n.p,{children:"Upon successful completion of a request, the server will issue a status code of 200 along with a JSON object encapsulating pertinent blockchain transaction details. This object encompasses the following attributes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "v1ReclaimLoan": {\n    "res": {\n      "_type": "TransactionResponse",\n      "accessList": [],\n      "blobVersionedHashes": null,\n      "blockHash": null,\n      "blockNumber": null,\n      "chainId": "80001",\n      "from": "0xa8983Fe59b2F08F9F1B3E833c5D47B256F7FE0d5",\n      "gasLimit": "150012",\n      "gasPrice": null,\n      "hash": "0x68dc6f65b96a427c4c289371637b063bbe20d9841d6c8183f06e657ab10efb1e",\n      .\n      .\n      .\n    },\n    "success": true\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"borrow",children:"Borrow"}),"\n",(0,r.jsx)(n.h3,{id:"borrow-1",children:(0,r.jsx)(n.code,{children:"Borrow"})}),"\n",(0,r.jsxs)(n.p,{children:["Borrow the supplied amount of the base token from the pool if the deadline was reached and status is ",(0,r.jsx)(n.code,{children:"created"}),". This endpoint is equivalent to the action ",(0,r.jsx)(n.code,{children:"collectPool"})," in the contract."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"HTTP Request Method"}),": POST"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Roles"}),": Admin"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"GraphQL URL"}),": ",(0,r.jsx)(n.code,{children:"{{BASE_URL}}/v1/graphql"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"GraphQL Body"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-graphql",children:"mutation ($borrow: BorrowInput!) {\n  v1Borrow(borrow: $borrow) {\n    res\n    success\n  }\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"GraphQL Variables"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "borrow": {\n    "network": "{{NETWORK_NAME}}",\n    "contractName": "counterparty-pool",\n    "tx": "0x02f8b38301388259844190ab00844190ab1e83044082940a2e94dd0d8efa9598f3fa7287f888dc03add28880b8440ecbcdab00000000000000000000000000000000000000000000000000000000000000250000000000000000000000000000000000000000000000000000000001c9c380c001a060a1ef201be2fb0062b2c8880eb4f7468745b7d057ef942c4d74c53c51adefdda00a17ecbf456d6aaf9d134334e98b24195ec23566abfd4836b6ac69e80dd111d8"\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response"})}),"\n",(0,r.jsx)(n.p,{children:"Upon successful completion of a request, the server will issue a status code of 200 along with a JSON object encapsulating pertinent blockchain transaction details. This object encompasses the following attributes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "v1Borrow": {\n    "res": {\n      "_type": "TransactionResponse",\n      "accessList": [],\n      "blobVersionedHashes": null,\n      "blockHash": null,\n      "blockNumber": null,\n      "chainId": "80001",\n      "from": "0xa8983Fe59b2F08F9F1B3E833c5D47B256F7FE0d5",\n      "gasLimit": "150012",\n      "gasPrice": null,\n      "hash": "0x68dc6f65b96a427c4c289371637b063bbe20d9841d6c8183f06e657ab10efb1e",\n      .\n      .\n      .\n    },\n    "success": true\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"utilities",children:"Utilities"}),"\n",(0,r.jsx)(n.h3,{id:"erc20-approve",children:(0,r.jsx)(n.code,{children:"Erc20 Approve"})}),"\n",(0,r.jsx)(n.p,{children:"Authorize a third party address to expend a designated sum of funds of the indicated token."}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Property"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"amount"})}),(0,r.jsx)(n.td,{children:"The amount to approve."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"address"})}),(0,r.jsxs)(n.td,{children:["The address where the ",(0,r.jsx)(n.code,{children:"counterpartypool"})," contract is deployed."]})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"HTTP Request Method"}),": POST"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Roles"}),": Admin"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"GraphQL URL"}),": ",(0,r.jsx)(n.code,{children:"{{BASE_URL}}/v1/graphql"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"GraphQL Body"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-graphql",children:"mutation ($token: Erc20ApproveInput!) {\n  v1Erc20Approve(token: $token) {\n    res\n    success\n  }\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"GraphQL Variables"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "token": {\n    "contractName": "counterparty-pool",\n    "network": "{{NETWORK_NAME}}",\n    "tx": "0x02f8b383aa36a7058424bf2f8e85047a307cec82c9799475fe3476d90598080f7d12365020c438943dcef380b844095ea7b3000000000000000000000000ec92ca91907fd64e446122953601e774fd3cd6e60000000000000000000000000000000000000000000000000000000000000190c080a0530e4f4e58484c18038ac30b16fe4a93b91de19420aa9fc0de9b49edcc42a941a0582664ed5820e481c05cda95532df03383b1bdc73f485e51eef9ada80faa5803"\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response"})}),"\n",(0,r.jsx)(n.p,{children:"Upon successful completion of a request, the server will issue a status code of 200 along with a JSON object encapsulating pertinent blockchain transaction details. This object encompasses the following attributes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "v1Erc20Approve": {\n    "res": {\n      "_type": "TransactionResponse",\n      "accessList": [],\n      "blobVersionedHashes": null,\n      "blockHash": null,\n      "blockNumber": null,\n      "chainId": "80001",\n      "from": "0xa8983Fe59b2F08F9F1B3E833c5D47B256F7FE0d5",\n      "gasLimit": "150012",\n      "gasPrice": null,\n      "hash": "0x68dc6f65b96a427c4c289371637b063bbe20d9841d6c8183f06e657ab10efb1e",\n      .\n      .\n      .\n    },\n    "success": true\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"get-usdc",children:(0,r.jsx)(n.code,{children:"Get Usdc"})}),"\n",(0,r.jsxs)(n.p,{children:["Returns the configured ",(0,r.jsx)(n.code,{children:"usdc"})," contract address within the ",(0,r.jsx)(n.code,{children:"erc20collateraltoken"})," instance."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"HTTP Request Method"}),": POST"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Roles"}),": Guest"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"GraphQL URL"}),": ",(0,r.jsx)(n.code,{children:"{{BASE_URL}}/v1/graphql"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"GraphQL Body"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-graphql",children:"mutation v1GetUsdc($data: DefaultInput!) {\n  v1GetUsdc(data: $data) {\n    res\n    success\n  }\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"GraphQL Variables"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "data": {\n    "network": "{{NETWORK_NAME}}"\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response"})}),"\n",(0,r.jsxs)(n.p,{children:["Upon successful request completion, the server will issue a status code of 200 alongside a JSON object containing the address information for ",(0,r.jsx)(n.code,{children:"usdc"}),". This object incorporates the following attributes:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "v1GetUsdc": {\n    "res": "0x80D9E7bC3D962878b292F9536b38E52e266a77Fd",\n    "success": true\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"config",children:(0,r.jsx)(n.code,{children:"Config"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"HTTP Request Method"}),": POST"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"GraphQL URL"}),": ",(0,r.jsx)(n.code,{children:"{{BASE_URL}}/v1/graphql"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"GraphQL Body"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-graphql",children:"query {\n  getConfig {\n    res\n    success\n  }\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"GraphQL Variables"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:"{}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"error-reference",children:"Error Reference"}),"\n",(0,r.jsx)(n.h3,{id:"error-response-format",children:"Error Response Format"}),"\n",(0,r.jsxs)(n.p,{children:["The errors have the GraphQL error schema, an object with an ",(0,r.jsx)(n.code,{children:"errors"})," array property where each item has the following schema:"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Property"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"message"})}),(0,r.jsx)(n.td,{children:"The description of the error"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"extensions"})}),(0,r.jsx)(n.td,{children:"An object with the path to the field that caused the error, and the error code"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Examples"})}),"\n",(0,r.jsx)(n.p,{children:"The variable has a wrong type:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "errors": [\n    {\n      "message": "expected a string for type \'String\', but found a number",\n      "extensions": {\n        "path": "$.selectionSet.v1GetPool.args.pool.poolId",\n        "code": "validation-failed"\n      }\n    }\n  ]\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:"The variable is missing in the request body:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "errors": [\n    {\n      "message": "missing required field \'poolId\'",\n      "extensions": {\n        "path": "$.selectionSet.v1GetPool.args.pool.poolId",\n        "code": "validation-failed"\n      }\n    }\n  ]\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:"The field does not exists or the role has no permissions:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "errors": [\n    {\n      "message": "field \'v1UpdatePoolMetadata\' not found in type: \'mutation_root\'",\n      "extensions": {\n        "path": "$.selectionSet.v1UpdatePoolMetadata",\n        "code": "validation-failed"\n      }\n    }\n  ]\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:"The variable is not in the request body schema:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "errors": [\n    {\n      "message": "Unexpected variable pool",\n      "extensions": {\n        "path": "$",\n        "code": "bad-request"\n      }\n    }\n  ]\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:"The GraphQL variables object is not a valid json:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "errors": [\n    {\n      "message": "Error in $: Failed reading: satisfy. Expecting object value at X",\n      "extensions": {\n        "path": "$",\n        "code": "invalid-json"\n      }\n    }\n  ]\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:"The endpoint does not exists:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "errors": [\n    {\n      "message": "Endpoint not found",\n      "extensions": {\n        "path": "$",\n        "code": "not-found"\n      }\n    }\n  ]\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:"There is no pool with the provided id:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "errors": [\n    {\n      "message": "Pool id 400 does not exist",\n      "extensions": {\n        "path": "$",\n        "code": "unexpected"\n      }\n    }\n  ]\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"types-of-error",children:"Types of Error"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"General"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["The date provided has already passed","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Error message"}),": Time must be in the future"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["The number provided is negative or zero","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Error message"}),": Amount cannot be negative or 0"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["The JWT is invalid","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Error message"}),": Could not verify JWT: ",(0,r.jsx)(n.code,{children:"JWT error"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["The input provided has a invalid value","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Error message"}),": Invalid request payload input"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["The string provided is not a integer number","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Error message"}),": Cannot convert ",(0,r.jsx)(n.code,{children:"X"})," to BigInt"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Addresses"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["The address provided is invalid","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Error message"}),": Address does not follow the ethereum address format"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["The address does not have the required admin role in the ",(0,r.jsx)(n.code,{children:"counterpartypool"})," contract","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Error message"}),": Sender address is not admin"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["The collateral token address is invalid","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Error message"}),": Collateral token does not follow the ethereum address format"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Pools"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["There is no pool with the provided id","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Error message"}),": Pool id ",(0,r.jsx)(n.code,{children:"X"})," does not exist"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["The ",(0,r.jsx)(n.code,{children:"endTime"})," date of the pool was reached","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Error message"}),": Pool has ended"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["The endpoint requires a closed pool","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Error message"}),": Pool is not closed"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["The endpoint requires a not closed pool","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Error message"}),": Pool is closed"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["The endpoint requires a completed pool","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Error message"}),": Pool is not completed"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Occurs when an attempt is made to liquidate or obtain liquidation information for a completed pool","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Error message"}),": Pool cannot be liquidated"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Lend"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Occurs when an attempt is made to claim rewards of a loan that has already been claimed","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Error message"}),": Loan already claimed"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Borrow"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Occurs when an attempt is made to borrow an amount that overpass the pool balance","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Error message"}),": Amount overpass the pool available amount"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Occurs when an attempt is made to repay a borrow that has already been repaid","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Error message"}),": Borrow already repaid"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Pagination"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["The provided offset is negative","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Error message"}),": Offset cannot be negative"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["The provided limit is negative or zero","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Error message"}),": Limit cannot be negative or 0"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["The provided limit is equal to the maximum results per page, use a smaller value","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Error message"}),": Max limit allowed is ",(0,r.jsx)(n.code,{children:"X"})]}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>a});var r=s(6540);const o={},l=r.createContext(o);function c(e){const n=r.useContext(l);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:c(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);