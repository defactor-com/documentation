"use strict";(self.webpackChunkdocus=self.webpackChunkdocus||[]).push([[7140],{8453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>i});var t=s(6540);const r={},o=t.createContext(r);function l(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),t.createElement(o.Provider,{value:n},e.children)}},9659:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>i,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"pools/back-end/api/erc20CollateralToken/restful","title":"Endpoints List RESTful API","description":"The Defactor Postman Collection comprises a suite of pre-configured API requests designed for seamless integration into the Postman application, facilitating access to the services offered by the Defactor API.","source":"@site/docs/pools/back-end/api/erc20CollateralToken/restful.md","sourceDirName":"pools/back-end/api/erc20CollateralToken","slug":"/pools/back-end/api/erc20CollateralToken/restful","permalink":"/docs/pools/back-end/api/erc20CollateralToken/restful","draft":false,"unlisted":false,"editUrl":"https://github.com/defactor-com/documentation/tree/main/docs/pools/back-end/api/erc20CollateralToken/restful.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Endpoints List RESTful API","sidebar_position":1},"sidebar":"docSidebar","previous":{"title":"ERC20CollateralToken","permalink":"/docs/category/erc20collateraltoken"},"next":{"title":"Endpoints List GraphQL API","permalink":"/docs/pools/back-end/api/erc20CollateralToken/graphql"}}');var r=s(4848),o=s(8453);const l={title:"Endpoints List RESTful API",sidebar_position:1},i=void 0,d={},a=[{value:"Security Details",id:"security-details",level:2},{value:"Authentication",id:"authentication",level:2},{value:"<code>Login</code>",id:"login",level:3},{value:"<code>Restore Session</code>",id:"restore-session",level:3},{value:"<code>Logout</code>",id:"logout",level:3},{value:"Pools",id:"pools",level:2},{value:"<code>Get Total Collateral Locked</code>",id:"get-total-collateral-locked",level:3},{value:"<code>Get Historical Balance</code>",id:"get-historical-balance",level:3},{value:"<code>Get Withdrawable Fees</code>",id:"get-withdrawable-fees",level:3},{value:"<code>Update Metadata</code>",id:"update-metadata",level:3},{value:"<code>Update Token Metadata</code>",id:"update-token-metadata",level:3},{value:"Supply",id:"supply",level:2},{value:"<code>Get All Supply Rewards</code>",id:"get-all-supply-rewards",level:3},{value:"<code>Get Supply Rewards</code>",id:"get-supply-rewards",level:3},{value:"Borrow",id:"borrow",level:2},{value:"<code>Get Collateral Token Amount</code>",id:"get-collateral-token-amount",level:3},{value:"<code>Get Repay Interest</code>",id:"get-repay-interest",level:3},{value:"<code>Get Collateral Change Adjustment</code>",id:"get-collateral-change-adjustment",level:3},{value:"<code>Get Liquidation Stats</code>",id:"get-liquidation-stats",level:3},{value:"Account",id:"account",level:2},{value:"<code>Update Account</code>",id:"update-account",level:3},{value:"Utilities",id:"utilities",level:2},{value:"<code>Get Config</code>",id:"get-config",level:3},{value:"Error Reference",id:"error-reference",level:2},{value:"Error Response Format",id:"error-response-format",level:3},{value:"Types of Errors",id:"types-of-errors",level:3}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",hr:"hr",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"The Defactor Postman Collection comprises a suite of pre-configured API requests designed for seamless integration into the Postman application, facilitating access to the services offered by the Defactor API."}),"\n",(0,r.jsx)(n.p,{children:"This API offers dual modes of interaction with the smart contract: firstly, via the RESTful API; and secondly, through the GraphQL API."}),"\n",(0,r.jsx)(n.p,{children:"It facilitates interaction with Pools smart contracts by providing a seamless communication with erc20 collateral pools configured across multiple blockchain networks."}),"\n",(0,r.jsxs)(n.p,{children:["Outlined below is a detailed overview of the API's functionalities, leveraging a designated instance of the ",(0,r.jsx)(n.code,{children:"erc20collateralpool"})," contract as the primary data source."]}),"\n",(0,r.jsxs)(n.admonition,{type:"info",children:[(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"erc20collateralpool"})," contract is based on a token that follows the ",(0,r.jsx)(n.code,{children:"erc20"})," token standard that has a set precision. For example it can be ",(0,r.jsx)(n.code,{children:"usdc"}),", ",(0,r.jsx)(n.code,{children:"euroc"})," with a exactly a precision of 6 or any other token that meets the above mentioned requirements."]}),(0,r.jsx)(n.p,{children:"Then, 10500000 is equivalent to 10.5 USDC."})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"security-details",children:"Security Details"}),"\n",(0,r.jsxs)(n.p,{children:["To secure the API access control, all requests are made through ",(0,r.jsx)(n.a,{href:"https://hasura.io/",children:"Hasura"})," which provides secure GraphQL, and RESTful endpoints restricted by a role-based authorization system."]}),"\n",(0,r.jsxs)(n.p,{children:["Those endpoints that return public blockchain data do not require authentication for use. Query type requests are opened under the ",(0,r.jsx)(n.code,{children:"guest"})," role, while mutation type needs a token with ",(0,r.jsx)(n.code,{children:"admin"})," role."]}),"\n",(0,r.jsx)(n.p,{children:"For those that can modify data the API expects a valid authorization header containing a bearer token. These tokens are implemented as JSON Web Tokens (JWTs) issued by the server."}),"\n",(0,r.jsx)(n.p,{children:"The security of the JWT is because it is signed by a secret key and has a configurable expiration time, which by default is 60 minutes."}),"\n",(0,r.jsx)(n.p,{children:"Upon receiving a request, Hasura decodes and validates the JWT, which contains user account data, and their corresponding role. If the role lacks the necessary permissions or the token is invalid, expired or missing, the request is promptly rejected."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"authentication",children:"Authentication"}),"\n",(0,r.jsx)(n.h3,{id:"login",children:(0,r.jsx)(n.code,{children:"Login"})}),"\n",(0,r.jsx)(n.p,{children:"Return a JSON Web Token (JWT) access token and refresh token. By default, the access token has a maturity of 60 minutes, but it may vary depending on the server configuration."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"HTTP Request Method"}),": POST"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Roles"}),": Admin"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Request URL"}),": ",(0,r.jsx)(n.code,{children:"{{BASE_RESTFUL_URL}}/v1/login"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Request Body"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "session": {\n    "message": "0x0000000000000000000000000000000000000000",\n    "signature": "0x0000000000000000000000000000000000000000"\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response"})}),"\n",(0,r.jsx)(n.p,{children:"Upon successful completion of a request, the server will issue a status code of 200 along with a JSON object encapsulating the generated access token and refresh token. This object encompasses the following attributes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "v1AuthLogin": {\n    "res": {\n      "accessToken": "<jwt>",\n      "refreshToken": "0a1a6d5f-1bf9-4540-8c22-d9442a75476f"\n    },\n    "success": true\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"restore-session",children:(0,r.jsx)(n.code,{children:"Restore Session"})}),"\n",(0,r.jsx)(n.p,{children:"Return a new access and refresh token."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"HTTP Request Method"}),": POST"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Roles"}),": Admin"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Request URL"}),": ",(0,r.jsx)(n.code,{children:"{{BASE_RESTFUL_URL}}/v1/restore-session"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Request Body"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "session": {\n    "refreshToken": "e6781b1a-ff37-4074-8b9e-39953b5a4f9d"\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response"})}),"\n",(0,r.jsx)(n.p,{children:"Upon successful completion of a request, the server will issue a status code of 200 along with a JSON object encapsulating the generated access token and refresh token. This object encompasses the following attributes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "v1AuthRestoreSession": {\n    "res": {\n      "accessToken": "<jwt>",\n      "refreshToken": "0a1a6d5f-1bf9-4540-8c22-d9442a75476f"\n    },\n    "success": true\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"logout",children:(0,r.jsx)(n.code,{children:"Logout"})}),"\n",(0,r.jsx)(n.p,{children:"Close all open sessions."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"HTTP Request Method"}),": POST"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Roles"}),": Admin"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Request URL"}),": ",(0,r.jsx)(n.code,{children:"{{BASE_RESTFUL_URL}}/v1/auth/logout"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Request Body"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "session": {\n    "refreshToken": "9a06a237-ccf9-4350-8510-934801d3cace"\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response"})}),"\n",(0,r.jsx)(n.p,{children:"Upon successful completion of a request, the server will issue a status code of 200 along with a JSON object encapsulating the generated access token and refresh token. This object encompasses the following attributes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "v1AuthLogout": {\n    "res": {\n      "message": "Logged out successfully"\n    },\n    "success": true\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"pools",children:"Pools"}),"\n",(0,r.jsx)(n.h3,{id:"get-total-collateral-locked",children:(0,r.jsx)(n.code,{children:"Get Total Collateral Locked"})}),"\n",(0,r.jsx)(n.p,{children:"Get the equivalent in usdc of all the collateral locked."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"HTTP Request Method"}),": GET"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Roles"}),": Guest"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Request URL"}),": ",(0,r.jsx)(n.code,{children:"{{BASE_RESTFUL_URL}}/v2/get-total-collateral-locked"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Request Body"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "stats": {\n    "networks": [\n      "{{NETWORK_ETHEREUM}}",\n      "{{NETWORK_POLYGON}}",\n      "{{NETWORK_BASE}}",\n      "{{NETWORK_BSC}}"\n    ]\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response"})}),"\n",(0,r.jsx)(n.p,{children:"Upon successful request completion, the server will issue a status code of 200 alongside a JSON object. This object incorporates the following attributes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "data": {\n    "v2GetTotalCollateralLocked": {\n      "res": [\n        {\n          "lockedInUsdc": 1222.786080658453,\n          "network": "base"\n        }\n      ],\n      "success": true\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"get-historical-balance",children:(0,r.jsx)(n.code,{children:"Get Historical Balance"})}),"\n",(0,r.jsx)(n.p,{children:"Retrieves the historical balance with the active supplied, active borrowed, and available amount at a specific timestamp."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"HTTP Request Method"}),": GET"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Roles"}),": Guest"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Request URL"}),": ",(0,r.jsx)(n.code,{children:"{{BASE_RESTFUL_URL}}/v2/get-historical-balance"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Request Body"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "stats": {\n    "filterBy": "all",\n    "networks": ["{{NETWORK_NAME}}"]\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response"})}),"\n",(0,r.jsx)(n.p,{children:"Upon successful request completion, the server will return a status code of 200 along with a JSON object containing the active historical balance. This object encompasses the following attributes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "v2GetHistoricalBalance": {\n    "res": [\n      {\n        "available": {\n          "amount": "210000000",\n          "fluctuation": "1",\n          "fluctuationValue": "0"\n        },\n        "borrowed": {\n          "amount": "190000000",\n          "fluctuation": "1",\n          "fluctuationValue": "0"\n        },\n        "date": 1748995200000,\n        "supplied": {\n          "amount": "400000000",\n          "fluctuation": "1",\n          "fluctuationValue": "0"\n        }\n      }\n    ]\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"get-withdrawable-fees",children:(0,r.jsx)(n.code,{children:"Get Withdrawable Fees"})}),"\n",(0,r.jsx)(n.p,{children:"Retrieves the withdrawable fees."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"HTTP Request Method"}),": GET"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Roles"}),": Admin"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Request URL"}),": ",(0,r.jsx)(n.code,{children:"{{BASE_RESTFUL_URL}}/v2/admin/get-withdrawable-fees"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Request Body"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "stats": {\n    "networks": ["{{NETWORK_NAME}}"]\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response"})}),"\n",(0,r.jsx)(n.p,{children:"Upon successful request completion, the server will return a status code of 200 along with a JSON object containing the withdrawable fee information. This object encompasses the following attributes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "data": {\n    "v2GetWithdrawableFees": {\n      "base": {\n        "tokens": [\n          {\n            "address": "0x0000000000000000000000000000000000000000",\n            "availableFee": {\n              "decimals": 6,\n              "formatted": 5.015323,\n              "raw": "5015323"\n            },\n            "logo": "https://.../usdc.png",\n            "symbol": "USDC",\n            "usdPrice": {\n              "decimals": 18,\n              "formatted": 1,\n              "raw": "1000000000000000000"\n            }\n          },\n          {\n            "address": "0x0000000000000000000000000000000000000000",\n            "availableFee": {\n              "decimals": 18,\n              "formatted": 100,\n              "raw": "100000000000000000000"\n            },\n            "logo": "https://.../factr.png",\n            "symbol": "FACTR",\n            "usdPrice": {\n              "decimals": 18,\n              "formatted": 0.02,\n              "raw": "20000000000000000"\n            }\n          }\n        ],\n        "totalInUsd": 7.015323\n      },\n      "totalInUsd": 7.015323\n    },\n    "success": true\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"update-metadata",children:(0,r.jsx)(n.code,{children:"Update Metadata"})}),"\n",(0,r.jsx)(n.p,{children:"Update the pool metadata."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"HTTP Request Method"}),": POST"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Roles"}),": Admin"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Request URL"}),": ",(0,r.jsx)(n.code,{children:"{{BASE_RESTFUL_URL}}/v2/pools/update-metadata"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Request Body"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "pool": {\n    "id": 1,\n    "name": "FACTR Pool 0",\n    "description": "FACTR is a tool that facilitates the connection between the traditional world of assets and the decentralized ecosystem of cryptocurrencies. Explore more about Defactor and its potential in the financial world!",\n    "logo": "https://assets.coingecko.com/coins/images/19201/standard/jFLSu4U9_400x400.png?1696518648",\n    "collateralToken": {\n      "logo": "https://assets.coingecko.com/coins/images/19201/standard/jFLSu4U9_400x400.png?1696518648"\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response"})}),"\n",(0,r.jsx)(n.p,{children:"Upon successful request completion, the server will issue a status code of 200 alongside a JSON object. This object incorporates the following attributes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "data": {\n    "v2UpdatePoolMetadata": {\n      "res": {\n        "id": 1\n      },\n      "success": true\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"update-token-metadata",children:(0,r.jsx)(n.code,{children:"Update Token Metadata"})}),"\n",(0,r.jsx)(n.p,{children:"Update the metadata of a token."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"HTTP Request Method"}),": POST"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Roles"}),": Admin"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Request URL"}),": ",(0,r.jsx)(n.code,{children:"{{BASE_RESTFUL_URL}}/v2/admin/update-token-metadata"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Request Body"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "token": {\n    "network": "{{NETWORK_BASE}}",\n    "address": "0x0000000000000000000000000000000000000000",\n    "logo": "https://.../logo.png"\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response"})}),"\n",(0,r.jsx)(n.p,{children:"Upon successful request completion, the server will return a status code of 200 along with a JSON object containing the id. This object encompasses the following attributes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "data": {\n    "v2UpdateTokenMetadata": {\n      "res": {\n        "id": 1\n      },\n      "success": true\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"supply",children:"Supply"}),"\n",(0,r.jsx)(n.h3,{id:"get-all-supply-rewards",children:(0,r.jsx)(n.code,{children:"Get All Supply Rewards"})}),"\n",(0,r.jsx)(n.p,{children:"Calculates and returns the rewards for all active supplies for the address provided in the request payload. Optionally, you can filter by a specific pool."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"HTTP Request Method"}),": GET"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Roles"}),": Guest"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Request URL"}),": ",(0,r.jsx)(n.code,{children:"{{BASE_RESTFUL_URL}}/v2/supplies/rewards/calculate"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Request Body"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "lending": {\n    "address": "0x0000000000000000000000000000000000000000",\n    "poolId": 3\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response"})}),"\n",(0,r.jsx)(n.p,{children:"Upon successful request completion, the server will respond with a status code of 200 and a JSON object containing comprehensive lending information. This object encompasses the following attributes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "data": {\n    "v2CalculateAllSuppliesRewards": {\n      "res": {\n        "base": {\n          "rewards": [\n            {\n              "address": "0x0000000000000000000000000000000000000000",\n              "amount": 2000000000,\n              "bcId": 0,\n              "id": 1,\n              "poolId": 1,\n              "poolName": "",\n              "reward": 0,\n              "total": 2000000000\n            },\n            {\n              "address": "0x0000000000000000000000000000000000000000",\n              "amount": 2000000000,\n              "bcId": 1,\n              "id": 3,\n              "poolId": 2,\n              "poolName": "",\n              "reward": 0,\n              "total": 2000000000\n            },\n            {\n              "address": "0x0000000000000000000000000000000000000000",\n              "amount": 1800000000,\n              "bcId": 0,\n              "id": 4,\n              "poolId": 3,\n              "poolName": "",\n              "reward": 1535,\n              "total": 1800001535\n            }\n          ],\n          "total": 5800001535,\n          "totalOutstandingAmount": 5800000000,\n          "totalRewards": 1535\n        }\n      },\n      "success": true\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"get-supply-rewards",children:(0,r.jsx)(n.code,{children:"Get Supply Rewards"})}),"\n",(0,r.jsx)(n.p,{children:"Calculates and returns the reward for a specific supply by its ID. You can optionally provide a custom amount for the calculation."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"HTTP Request Method"}),": GET"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Roles"}),": Guest"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Request URL"}),": ",(0,r.jsx)(n.code,{children:"{{BASE_RESTFUL_URL}}/v2/supplies/reward/calculate"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Request Body"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "lending": {\n    "id": 3,\n    "amount": 400000000\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response"})}),"\n",(0,r.jsx)(n.p,{children:"Upon successful request completion, the server will respond with a status code of 200 and a JSON object containing comprehensive lending information. This object encompasses the following attributes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "data": {\n    "v2CalculateSupplyRewards": {\n      "res": {\n        "address": "0x0000000000000000000000000000000000000000",\n        "amount": 400000000000000,\n        "bcId": 0,\n        "id": 4,\n        "poolId": 3,\n        "poolName": "",\n        "reward": 341186770,\n        "total": 400000341186770\n      },\n      "success": true\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"borrow",children:"Borrow"}),"\n",(0,r.jsx)(n.h3,{id:"get-collateral-token-amount",children:(0,r.jsx)(n.code,{children:"Get Collateral Token Amount"})}),"\n",(0,r.jsx)(n.p,{children:"Get the required collateral amount to borrow from a pool, indicating the usdc amount and ltv (optional)."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"HTTP Request Method"}),": GET"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Roles"}),": Guest"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Request URL"}),": ",(0,r.jsx)(n.code,{children:"{{BASE_RESTFUL_URL}}/v2/borrows/collateral-token-amount/calculate"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Request Body"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "data": {\n    "poolId": 1,\n    "amountToBorrow": 1000,\n    "ltv": 65\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response"})}),"\n",(0,r.jsx)(n.p,{children:"Upon successful request completion, the server will respond with a status code of 200 and a JSON object containing the required collateral amount. This object includes the following attributes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "data": {\n    "v2CalculateCollateralTokenAmount": {\n      "res": {\n        "decimals": 18,\n        "formatted": 76923.07692307692,\n        "raw": "76923076923076923076923"\n      },\n      "success": true\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"get-repay-interest",children:(0,r.jsx)(n.code,{children:"Get Repay Interest"})}),"\n",(0,r.jsx)(n.p,{children:"Returns the interest for the repayment of a borrow."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"HTTP Request Method"}),": GET"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Roles"}),": Guest"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Request URL"}),": ",(0,r.jsx)(n.code,{children:"{{BASE_RESTFUL_URL}}/v2/borrows/repay-interest/calculate"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Request Body"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "borrow": {\n    "id": 1,\n    "amountToRepay": 1000\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response"})}),"\n",(0,r.jsx)(n.p,{children:"Upon successful request completion, the server will respond with a status code of 200 and a JSON object containing the interest to be paid for a borrow. This object includes the following attributes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "data": {\n    "v2CalculateRepayInterest": {\n      "res": {\n        "decimals": 6,\n        "formatted": 0.246102,\n        "raw": "246102"\n      },\n      "success": true\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"get-collateral-change-adjustment",children:(0,r.jsx)(n.code,{children:"Get Collateral Change Adjustment"})}),"\n",(0,r.jsx)(n.p,{children:"Get the required collateral amount to adjust the borrow position's ltv."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"HTTP Request Method"}),": GET"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Roles"}),": Guest"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Request URL"}),": ",(0,r.jsx)(n.code,{children:"{{BASE_RESTFUL_URL}}/v2/borrows/collateral-adjustment/calculate"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Request Body"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "borrow": {\n    "id": 1,\n    "expectedLtv": 50\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response"})}),"\n",(0,r.jsx)(n.p,{children:"Upon successful request completion, the server will respond with a status code of 200 and a JSON object containing the required amount. This object includes the following attributes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "v2CalculateCollateralChangeAdjustment": {\n    "res": {\n      "bcId": 0,\n      "collateral": {\n        "current": {\n          "decimals": 18,\n          "formatted": 30.193236714975846,\n          "raw": "30193236714975846000"\n        },\n        "maxRequired": {\n          "decimals": 18,\n          "formatted": 156.17625587824926,\n          "raw": "156176255878249250000"\n        },\n        "required": {\n          "decimals": 18,\n          "formatted": 30.62279527024495,\n          "raw": "30622795270244950000"\n        },\n        "safeRequired": {\n          "decimals": 18,\n          "formatted": 31.235251175649847,\n          "raw": "31235251175649845000"\n        },\n        "usdPrice": {\n          "decimals": 18,\n          "formatted": 0.6403021985490374,\n          "raw": "640302198549037300"\n        }\n      },\n      "id": {\n        "current": {\n          "decimals": 2,\n          "formatted": 51.72557822084184,\n          "raw": "5172"\n        },\n        "maxRequired": {\n          "decimals": 2,\n          "formatted": 10,\n          "raw": "1000"\n        },\n        "required": {\n          "decimals": 2,\n          "formatted": 0,\n          "raw": "0"\n        },\n        "safeRequired": {\n          "decimals": 2,\n          "formatted": 50,\n          "raw": "5000"\n        }\n      },\n      "poolId": 1\n    },\n    "success": true\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"get-liquidation-stats",children:(0,r.jsx)(n.code,{children:"Get Liquidation Stats"})}),"\n",(0,r.jsx)(n.p,{children:"Get if the borrow position is liquidatable and its liquidation stats such as the required fee and the minimum collateral amount to avoid the liquidation."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"HTTP Request Method"}),": GET"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Roles"}),": Guest"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Request URL"}),": ",(0,r.jsx)(n.code,{children:"{{BASE_RESTFUL_URL}}/v2/borrows/liquidation-stats/calculate"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Request Body"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "borrow": {\n    "id": 1,\n    "amountToLiquidate": 50\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response"})}),"\n",(0,r.jsx)(n.p,{children:"Upon successful request completion, the server will respond with a status code of 200 and a JSON object containing the required amount. This object includes the following attributes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "v2CalculateLiquidationStats": {\n    "res": {\n      "bcId": 0,\n      "collateral": {\n        "liquidationBonus": {\n          "decimals": 18,\n          "formatted": 0,\n          "raw": "0"\n        },\n        "minRequired": {\n          "decimals": 18,\n          "formatted": 0,\n          "raw": "0"\n        },\n        "usdPrice": {\n          "decimals": 18,\n          "formatted": 0.6403021985490374,\n          "raw": "640302198549037300"\n        }\n      },\n      "id": 1,\n      "isPositionLiquidatable": false,\n      "liquidationFee": {\n        "decimals": 6,\n        "formatted": 0,\n        "raw": "0"\n      },\n      "liquidationPercentage": {\n        "decimals": 2,\n        "formatted": 35,\n        "raw": "3500"\n      },\n      "poolId": 1\n    },\n    "success": true\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"account",children:"Account"}),"\n",(0,r.jsx)(n.h3,{id:"update-account",children:(0,r.jsx)(n.code,{children:"Update Account"})}),"\n",(0,r.jsx)(n.p,{children:"Updates the account metadata."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"HTTP Request Method"}),": POST"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Roles"}),": Admin"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Request URL"}),": ",(0,r.jsx)(n.code,{children:"{{BASE_RESTFUL_URL}}/v2/admin/update-account"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Request Body"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "token": {\n    "network": "{{NETWORK_BASE}}",\n    "address": "0x0000000000000000000000000000000000000000",\n    "name": "name"\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response"})}),"\n",(0,r.jsx)(n.p,{children:"Upon successful request completion, the server will return a status code of 200 along with a JSON object containing the address. This object encompasses the following attributes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "data": {\n    "v2UpdateAccount": {\n      "res": {\n        "address": "0x0000000000000000000000000000000000000000"\n      },\n      "success": true\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"utilities",children:"Utilities"}),"\n",(0,r.jsx)(n.h3,{id:"get-config",children:(0,r.jsx)(n.code,{children:"Get Config"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"HTTP Request Method"}),": GET"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Request URL"}),": ",(0,r.jsx)(n.code,{children:"{{BASE_RESTFUL_URL}}/get-config"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Request Body"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:"{}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"error-reference",children:"Error Reference"}),"\n",(0,r.jsx)(n.h3,{id:"error-response-format",children:"Error Response Format"}),"\n",(0,r.jsx)(n.p,{children:"The errors have the following schema:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Property"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"error"})}),(0,r.jsx)(n.td,{children:"The description of the error"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"path"})}),(0,r.jsx)(n.td,{children:"The path to the field that caused the error"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"code"})}),(0,r.jsx)(n.td,{children:"The error code"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Examples"})}),"\n",(0,r.jsx)(n.p,{children:"The variable has a wrong type:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "error": "expected a string for type \'String\', but found a number",\n  "path": "$.selectionSet.v1GetPool.args.pool.poolId",\n  "code": "validation-failed"\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:"The variable is missing in the request body:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "error": "missing required field \'poolId\'",\n  "path": "$.selectionSet.v1GetPool.args.pool.poolId",\n  "code": "validation-failed"\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:"The field does not exists or the role has no permissions:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "error": "field \'v1UpdatePoolMetadata\' not found in type: \'mutation_root\'",\n  "path": "$.selectionSet.v1UpdatePoolMetadata",\n  "code": "validation-failed"\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:"The variable is not in the request body schema:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "error": "Unexpected variable pool",\n  "path": "$",\n  "code": "bad-request"\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:"The endpoint does not exists:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "error": "Endpoint not found",\n  "path": "$",\n  "code": "not-found"\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:"There is no pool with the provided id:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "error": "Pool id 400 does not exist",\n  "path": "$",\n  "code": "unexpected"\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"types-of-errors",children:"Types of Errors"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"General"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"Error message"})}),(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"Reason"})})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsxs)(n.td,{children:["Could not verify JWT: ",(0,r.jsx)(n.code,{children:"JWT error"})]}),(0,r.jsx)(n.td,{children:"The JWT is invalid"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Invalid request payload input"}),(0,r.jsx)(n.td,{children:"The input provided has a invalid value"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsxs)(n.td,{children:["Cannot convert ",(0,r.jsx)(n.code,{children:"X"})," to BigInt"]}),(0,r.jsx)(n.td,{children:"The string provided is not a integer number"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Addresses"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"Error message"})}),(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"Reason"})})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Wrong address format"}),(0,r.jsx)(n.td,{children:"The address provided is invalid"})]})})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Pools"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"Error message"})}),(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"Reason"})})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsxs)(n.td,{children:["Pool id ",(0,r.jsx)(n.code,{children:"X"})," does not exist"]}),(0,r.jsx)(n.td,{children:"There is no pool with the provided id"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Missing identifier"}),(0,r.jsx)(n.td,{children:"The input does not include identifiers"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Multiple identifiers found"}),(0,r.jsx)(n.td,{children:"The input includes more than one identifier"})]})]})]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);