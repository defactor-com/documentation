"use strict";(self.webpackChunkdocus=self.webpackChunkdocus||[]).push([[1870],{2860:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>c,contentTitle:()=>t,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"pools/how-tos/configuring-pools-intances","title":"Configuring Pools Instances","description":"To deploy a new instance of Defactor Pools, you\'ll need to provide specific environment variables. This document lists the variables required, grouped into categories for clarity.","source":"@site/docs/pools/how-tos/howto-pools-config.md","sourceDirName":"pools/how-tos","slug":"/pools/how-tos/configuring-pools-intances","permalink":"/docs/pools/how-tos/configuring-pools-intances","draft":false,"unlisted":false,"editUrl":"https://github.com/defactor-com/documentation/tree/main/docs/pools/how-tos/howto-pools-config.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"id":"configuring-pools-intances","title":"Configuring Pools Instances","sidebar_position":4},"sidebar":"docSidebar","previous":{"title":"Pools Contract Configuration","permalink":"/docs/pools/how-tos/pools-smart-contracts-configuration"},"next":{"title":"Whitelabeling Defactor Pools","permalink":"/docs/pools/how-tos/whitelabeling-defactor-pools"}}');var i=s(4848),o=s(8453);const l={id:"configuring-pools-intances",title:"Configuring Pools Instances",sidebar_position:4},t=void 0,c={},a=[{value:"Frontend UI",id:"frontend-ui",level:2},{value:"Backend API",id:"backend-api",level:2},{value:"Hasura GraphQL",id:"hasura-graphql",level:2},{value:"Servers and Infrastructure",id:"servers-and-infrastructure",level:2}];function d(n){const e={a:"a",br:"br",code:"code",h2:"h2",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.p,{children:"To deploy a new instance of Defactor Pools, you'll need to provide specific environment variables. This document lists the variables required, grouped into categories for clarity."}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"frontend-ui",children:"Frontend UI"}),"\n",(0,i.jsx)(e.p,{children:"These variables configure the user-facing interface of the pools instance:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"NEXT_PUBLIC_APP_URL:"})," URL where the web app is hosted.",(0,i.jsx)(e.br,{}),"\n","Example: ",(0,i.jsx)(e.code,{children:"https://webapp-dev.defactor.dev"})]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"NEXT_PUBLIC_APP_ENVIRONMENT:"})," Environment type (e.g., testnet or mainnet).",(0,i.jsx)(e.br,{}),"\n","Example: ",(0,i.jsx)(e.code,{children:"testnet"})]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"NEXT_PUBLIC_HASURA_URL:"})," URL for the Hasura GraphQL API.",(0,i.jsx)(e.br,{}),"\n","Example: ",(0,i.jsx)(e.code,{children:"https://api-dev.defactor.dev/v1/graphql"})]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"NEXT_PUBLIC_NETWORKS:"})," JSON string specifying blockchain networks and their configurations.",(0,i.jsx)(e.br,{}),"\n","Example:"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-json",children:'[{"chainId":11155111,"rpcUrl":"https://rpc.sepolia.org","name":"Sepolia","currency":"ETH","explorerUrl":"https://sepolia.otterscan.io","baseTokenAddress":"0x75fe3476d90598080f7D12365020C438943Dcef3","collateralAddress":"0x7D5c1468D8bE9f0F4FaD26F2Cb7e6b2ed9042577"}]\n'})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"NEXT_PUBLIC_DEFAULT_NETWORK_SELECTED:"})," JSON object representing the default network selection.",(0,i.jsx)(e.br,{}),"\n","Example:"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-json",children:'{"chainId":11155111,"name":"Sepolia","baseTokenAddress":"0x75fe3476d90598080f7D12365020C438943Dcef3"}\n'})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"NEXT_PUBLIC_ORGANIZATION_DATA:"})," JSON string containing the organization's branding data.",(0,i.jsx)(e.br,{}),"\n","Example:"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-json",children:'{"name":"DEFACTOR.com","logo":"https://assets-global.website-files.com/...","websiteUrl":"https://www.defactor.com/","xUrl":"https://twitter.com/defactor_"}\n'})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"NEXT_PUBLIC_BASE_TOKEN_DATA:"})," JSON string containing the contract's base token data.\nExample:"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-json",children:'{"symbol": "USDC", "precision": 6, "currencySymbol": "\\$"}\n'})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"NEXT_PUBLIC_WALLET_CONNECT_PROJECT_ID:"})," Wallet Connect project identifier."]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"NEXT_PUBLIC_COLLATERAL_TOKEN_ADDRESS, NEXT_PUBLIC_POOL_CONTRACT_ADDRESS:"})," Addresses for the collateral token and pool contracts."]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"NEXT_PUBLIC_URL_PROVIDER:"})," URL of the provider."]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"NEXT_PUBLIC_BRANDING_CONFIG:"})," Branding configuration data."]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"NEXT_PUBLIC_ASSETS_APP:"})," JSON string for application assets configuration.",(0,i.jsx)(e.br,{}),"\n","Example:"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-json",children:'{"appLogo":"/logos/logo.svg","favIcon":"/favicon.ico","socialMediaPreviewImage":"preview-image.png","fontFamily":"DMSans"}\n'})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"RE_CAPTCHA_PROJECT_ID, NEXT_PUBLIC_RE_CAPTCHA_KEY:"})," reCAPTCHA project identifiers."]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"GOOGLE_APPLICATION_CREDENTIALS, NEXT_PUBLIC_GA_TRACKING_CODE:"})," Google Application and Analytics credentials."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"backend-api",children:"Backend API"}),"\n",(0,i.jsx)(e.p,{children:"These variables configure the backend API:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"POSTGRES_USER, POSTGRES_PASSWORD, POSTGRES_DB, POSTGRES_DATA:"})," PostgreSQL database credentials."]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"HAPI_SERVER_PORT, HAPI_SERVER_ADDRESS:"})," Server port and address for the Hapi API."]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"HAPI_HASURA_URL, HAPI_HASURA_ADMIN_SECRET:"})," Hasura URL and admin secret."]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"HAPI_DATABASE_URL:"})," URL for the database."]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"HAPI_COIN_FETCHER:"})," Coingecko API URL and key."]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"HAPI_JWT_SECRET, HAPI_JWT_ISS, HAPI_JWT_TTL_SEC, HAPI_JWT_MAX_TTL_SEC, HAPI_JWT_RT_TTL_SEC:"})," JWT configuration."]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"HAPI_SNAPSHOT_HISTORICAL_BALANCE_EVERY_MILLISECOND, HAPI_POOL_STATUS_UPDATER_EVERY_MILLISECOND, HAPI_FETCH_TOKEN_PRICE_EVERY_MILLISECOND, HAPI_EVENT_MATURITY_EVERY_MILLISECOND, HAPI_BLOCK_CATCHER_WORKER_MS:"})," Sync intervals in milliseconds."]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"HAPI_DEFAULT_POOL_METADATA"}),": JSON configuration for the default pool's name and logo.\nExample:"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-json",children:'{ "name": "FACTR Pools", "logo": "https://assets.coingecko.com/coins/images/19201/standard/Defactor-FACTR-Ticker.jpg" }\n'})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"HAPI_IPFS_CONFIG:"})," (Optional): JSON configuration for ipfs service.\nExample:"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-json",children:'{"gatewayConfig":{"protocol":"https","host":"ipfs.node","port":"8080"},"rpcConfig":{"protocol":"https","host":"ipfs.node","port":"9094"}}\n'})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"HAPI_CONFIG:"})," JSON configuration to set up the contract's data such the addresses for each ",(0,i.jsx)(e.a,{href:"/docs/introduction/tech-stack#evm-compatible-blockchain-networks",children:"supported networks"})," where they are deployed, workers, services and required Alchemy API keys for synchronize and listen the contracts events.\nExample:"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-json",children:'{ "testnet": false, "workers": ["POOL STATUS"], "ethereum": { "providerHttps": "<provider>", "alchemyKey": "<key>", "workers": ["EVENT MATURITY"], "services": ["LISTENER"], "contracts": [ { "name": "ERC20_COLLATERAL_POOL", "address": "0x0000000000000000000000000000000000000000", "startFromBlock": 0 } ] } }\n'})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"hasura-graphql",children:"Hasura GraphQL"}),"\n",(0,i.jsx)(e.p,{children:"These variables configure the Hasura GraphQL instance:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"HASURA_GRAPHQL_ENABLE_CONSOLE:"})," Enables the console."]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"HASURA_GRAPHQL_DATABASE_URL:"})," Database URL for Hasura."]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"HASURA_GRAPHQL_ADMIN_SECRET:"})," Admin secret for Hasura."]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"HASURA_GRAPHQL_UNAUTHORIZED_ROLE:"})," Default role for unauthorized users."]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"HASURA_GRAPHQL_ACTION_BASE_URL:"})," Base URL for GraphQL actions."]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"HASURA_GRAPHQL_JWT_SECRET:"})," JWT secret for Hasura."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"servers-and-infrastructure",children:"Servers and Infrastructure"}),"\n",(0,i.jsx)(e.p,{children:"These variables relate to server and infrastructure setup:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"NAMESPACE:"})," Namespace for the deployment.",(0,i.jsx)(e.br,{}),"\n","Example: ",(0,i.jsx)(e.code,{children:"defactor-dev"})]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"INGRESS_GRAPHQL_HOST:"})," GraphQL API host URL.",(0,i.jsx)(e.br,{}),"\n","Example: ",(0,i.jsx)(e.code,{children:"api-dev.defactor.dev"})]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"KUBE_CONFIG_DATA:"})," Kubernetes configuration data."]}),"\n"]}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(d,{...n})}):d(n)}},8453:(n,e,s)=>{s.d(e,{R:()=>l,x:()=>t});var r=s(6540);const i={},o=r.createContext(i);function l(n){const e=r.useContext(o);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function t(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:l(n.components),r.createElement(o.Provider,{value:e},n.children)}}}]);