"use strict";(self.webpackChunkdocus=self.webpackChunkdocus||[]).push([[5934],{3811:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"assets/smart-contracts/ERC-3643/erc3643-smart-contract","title":"Introduction","description":"ERC-3643, also known as T-REX, is a token standard for the tokenization of real-world assets. An open-source implementation of this standard has been developed by Tokeny Solutions under the GNU General Public License v3.0. We have used this implementation, with slight modifications, to ensure compatibility with Defactor Assets.","source":"@site/docs/assets/smart-contracts/ERC-3643/introduction.md","sourceDirName":"assets/smart-contracts/ERC-3643","slug":"/assets/smart-contracts/ERC-3643/erc3643-smart-contract","permalink":"/docs/assets/smart-contracts/ERC-3643/erc3643-smart-contract","draft":false,"unlisted":false,"editUrl":"https://github.com/defactor-com/documentation/tree/main/docs/assets/smart-contracts/ERC-3643/introduction.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"id":"erc3643-smart-contract","title":"Introduction","sidebar_position":1},"sidebar":"docSidebar","previous":{"title":"ERC-3643","permalink":"/docs/category/erc-3643"},"next":{"title":"Assets Backend API Overview","permalink":"/docs/assets/back-end-api/backend-overview"}}');var o=n(4848),a=n(8453);const r={id:"erc3643-smart-contract",title:"Introduction",sidebar_position:1},i=void 0,c={},d=[{value:"Contract Versions",id:"contract-versions",level:2},{value:"Staking Smart Contract Documentation",id:"staking-smart-contract-documentation",level:2},{value:"Overview",id:"overview",level:3},{value:"Smart Contract Updates",id:"smart-contract-updates",level:3},{value:"Updates to TREXFactory.sol",id:"updates-to-trexfactorysol",level:4},{value:"Updates to ITREXFactory.sol",id:"updates-to-itrexfactorysol",level:4}];function l(e){const t={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",ul:"ul",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.p,{children:"ERC-3643, also known as T-REX, is a token standard for the tokenization of real-world assets. An open-source implementation of this standard has been developed by Tokeny Solutions under the GNU General Public License v3.0. We have used this implementation, with slight modifications, to ensure compatibility with Defactor Assets."}),"\n",(0,o.jsxs)(t.p,{children:["For further details on the smart contracts, please refer to Tokeny's ",(0,o.jsx)(t.a,{href:"https://tokeny.com/wp-content/uploads/2023/05/ERC3643-Whitepaper-T-REX-v4.pdf",children:"whitepaper"})," or the ",(0,o.jsx)(t.a,{href:"https://github.com/TokenySolutions/T-REX",children:"smart contracts implementation"}),"."]}),"\n",(0,o.jsx)(t.h2,{id:"contract-versions",children:"Contract Versions"}),"\n",(0,o.jsx)(t.p,{children:"We are using version 4.1.5 of T-REX as the base for our contract. Currently, there is only one version of the Defactor Assets fork."}),"\n",(0,o.jsx)(t.h2,{id:"staking-smart-contract-documentation",children:"Staking Smart Contract Documentation"}),"\n",(0,o.jsx)(t.h3,{id:"overview",children:"Overview"}),"\n",(0,o.jsx)(t.p,{children:"This section highlights the differences between our smart contracts and the original T-REX contracts."}),"\n",(0,o.jsx)(t.h3,{id:"smart-contract-updates",children:"Smart Contract Updates"}),"\n",(0,o.jsx)(t.p,{children:"Two contracts have been updated:"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.code,{children:"TREXFactory.sol"})}),"\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.code,{children:"ITREXFactory.sol"})}),"\n"]}),"\n",(0,o.jsx)(t.h4,{id:"updates-to-trexfactorysol",children:"Updates to TREXFactory.sol"}),"\n",(0,o.jsxs)(t.p,{children:["The primary enhancement to ",(0,o.jsx)(t.code,{children:"TREXFactory.sol"})," is the support for minting the initial token supply and assigning appropriate permissions to the deployer. When the ",(0,o.jsx)(t.code,{children:"deployTREXSuite"})," function is called, it checks whether the deployer already has an identity contract deployed. If not, the system deploys an identity contract for the deployer."]}),"\n",(0,o.jsx)(t.p,{children:"The identity contract serves as a KYC mechanism, allowing the user to receive ERC-3643 tokens. This contract must also be registered in the identity registry, which we have added."}),"\n",(0,o.jsx)(t.p,{children:"Following the identity setup, roles must be assigned to both the factory contract and the deployer to enable token transfers and burning. We then assign gateway agent permissions, allowing the token to be unpaused. Once unpaused, the initial token supply can be minted."}),"\n",(0,o.jsxs)(t.p,{children:["Finally, static data is saved in a mapping called ",(0,o.jsx)(t.code,{children:"staticData"}),"."]}),"\n",(0,o.jsx)(t.h4,{id:"updates-to-itrexfactorysol",children:"Updates to ITREXFactory.sol"}),"\n",(0,o.jsxs)(t.p,{children:["To accommodate the changes in ",(0,o.jsx)(t.code,{children:"TREXFactory.sol"}),", we have updated the ",(0,o.jsx)(t.code,{children:"ITREXFactory.sol"})," interface."]}),"\n",(0,o.jsxs)(t.p,{children:["Three new variables have been added to ",(0,o.jsx)(t.code,{children:"TokenDetails"}),":"]}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.code,{children:"bytes32 staticData"})}),"\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.code,{children:"uint256 startingSupply"})}),"\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.code,{children:"address idFactoryGateway"})}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>i});var s=n(6540);const o={},a=s.createContext(o);function r(e){const t=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),s.createElement(a.Provider,{value:t},e.children)}}}]);