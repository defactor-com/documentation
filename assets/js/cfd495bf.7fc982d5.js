"use strict";(self.webpackChunkdocus=self.webpackChunkdocus||[]).push([[3770],{3586:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>d});var r=s(4848),i=s(8453);const o={title:"Deploy a New Pools Instance",sidebar_position:2},l="Configuring a New Pools Instance",t={id:"resources/how-tos/pools/howto-pools-config",title:"Deploy a New Pools Instance",description:"To deploy a new instance of Defactor Pools, you'll need to provide specific environment variables. This document lists the variables required, grouped into categories for clarity.",source:"@site/docs/resources/how-tos/pools/howto-pools-config.md",sourceDirName:"resources/how-tos/pools",slug:"/resources/how-tos/pools/howto-pools-config",permalink:"/docs/resources/how-tos/pools/howto-pools-config",draft:!1,unlisted:!1,editUrl:"https://github.com/defactor-com/documentation/tree/main/docs/resources/how-tos/pools/howto-pools-config.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"Deploy a New Pools Instance",sidebar_position:2},sidebar:"docSidebar",previous:{title:"Add New Pool Metadata",permalink:"/docs/resources/how-tos/pools/howto-metadata-config"},next:{title:"Whitelabeling Defactor Pools",permalink:"/docs/resources/how-tos/pools/howto-whitelableing"}},c={},d=[{value:"Frontend UI",id:"frontend-ui",level:2},{value:"Backend API",id:"backend-api",level:2},{value:"Hasura GraphQL",id:"hasura-graphql",level:2},{value:"Servers and Infrastructure",id:"servers-and-infrastructure",level:2}];function a(n){const e={br:"br",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.h1,{id:"configuring-a-new-pools-instance",children:"Configuring a New Pools Instance"}),"\n",(0,r.jsx)(e.p,{children:"To deploy a new instance of Defactor Pools, you'll need to provide specific environment variables. This document lists the variables required, grouped into categories for clarity."}),"\n",(0,r.jsx)(e.h2,{id:"frontend-ui",children:"Frontend UI"}),"\n",(0,r.jsx)(e.p,{children:"These variables configure the user-facing interface of the pools instance:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"NEXT_PUBLIC_APP_URL:"})," URL where the web app is hosted.",(0,r.jsx)(e.br,{}),"\n","Example: ",(0,r.jsx)(e.code,{children:"https://webapp-dev.defactor.dev"})]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"NEXT_PUBLIC_APP_ENVIRONMENT:"})," Environment type (e.g., testnet or mainnet).",(0,r.jsx)(e.br,{}),"\n","Example: ",(0,r.jsx)(e.code,{children:"testnet"})]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"NEXT_PUBLIC_HASURA_URL:"})," URL for the Hasura GraphQL API.",(0,r.jsx)(e.br,{}),"\n","Example: ",(0,r.jsx)(e.code,{children:"https://api-dev.defactor.dev/v1/graphql"})]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"NEXT_PUBLIC_NETWORKS:"})," JSON string specifying blockchain networks and their configurations.",(0,r.jsx)(e.br,{}),"\n","Example: ",(0,r.jsx)(e.code,{children:'[{"chainId":11155111,"rpcUrl":"https://rpc.sepolia.org","name":"Sepolia","currency":"ETH","explorerUrl":"https://sepolia.otterscan.io","baseTokenAddress":"0x75fe3476d90598080f7D12365020C438943Dcef3","collateralAddress":"0x7D5c1468D8bE9f0F4FaD26F2Cb7e6b2ed9042577"}]'})]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"NEXT_PUBLIC_DEFAULT_NETWORK_SELECTED:"})," JSON object representing the default network selection.",(0,r.jsx)(e.br,{}),"\n","Example: ",(0,r.jsx)(e.code,{children:'{"chainId":11155111,"name":"Sepolia","baseTokenAddress":"0x75fe3476d90598080f7D12365020C438943Dcef3"}'})]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"NEXT_PUBLIC_ORGANIZATION_DATA:"})," JSON string containing the organization's branding data.",(0,r.jsx)(e.br,{}),"\n","Example:\n",(0,r.jsx)(e.code,{children:'{"name":"DEFACTOR.com","logo":"https://assets-global.website-files.com/...","websiteUrl":"https://www.defactor.com/","xUrl":"https://twitter.com/defactor_"}'})]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"NEXT_PUBLIC_WALLET_CONNECT_PROJECT_ID:"})," Wallet Connect project identifier."]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"NEXT_PUBLIC_COLLATERAL_TOKEN_ADDRESS, NEXT_PUBLIC_POOL_CONTRACT_ADDRESS:"})," Addresses for the collateral token and pool contracts."]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"NEXT_PUBLIC_URL_PROVIDER:"})," URL of the provider."]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"NEXT_PUBLIC_BRANDING_CONFIG:"})," Branding configuration data."]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"NEXT_PUBLIC_ASSETS_APP:"})," JSON string for application assets configuration.",(0,r.jsx)(e.br,{}),"\n","Example: ",(0,r.jsx)(e.code,{children:'{"appLogo":"/logos/logo.svg","favIcon":"/favicon.ico","socialMediaPreviewImage":"preview-image.png","fontFamily":"DMSans"}'})]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"RE_CAPTCHA_PROJECT_ID, NEXT_PUBLIC_RE_CAPTCHA_KEY:"})," reCAPTCHA project identifiers."]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"GOOGLE_APPLICATION_CREDENTIALS, NEXT_PUBLIC_GA_TRACKING_CODE:"})," Google Application and Analytics credentials."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"backend-api",children:"Backend API"}),"\n",(0,r.jsx)(e.p,{children:"These variables configure the backend API:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"POSTGRES_USER, POSTGRES_PASSWORD, POSTGRES_DB, POSTGRES_DATA:"})," PostgreSQL database credentials."]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"HAPI_SERVER_PORT, HAPI_SERVER_ADDRESS:"})," Server port and address for the Hapi API."]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"HAPI_PROVIDER_URL, HAPI_CONTRACT_ADDRESS:"})," Provider URL and contract address for the Hapi API."]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"HAPI_ADMIN_PRIVATE_KEY:"})," Private key for the admin."]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"HAPI_START_BLOCK:"})," Starting block number for synchronization."]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"HAPI_HASURA_URL, HAPI_HASURA_ADMIN_SECRET:"})," Hasura URL and admin secret."]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"HAPI_DATABASE_URL:"})," URL for the database."]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"HAPI_ALCHEMY_KEY, HAPI_ALCHEMY_NETWORK:"})," Alchemy API key and network."]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"HAPI_COINGECKO_API_URL, HAPI_COINGECKO_API_KEY:"})," CoinGecko API URL and key."]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"HAPI_JWT_SECRET, HAPI_JWT_ISS, HAPI_JWT_TTL_SEC, HAPI_JWT_MAX_TTL_SEC, HAPI_JWT_RT_TTL_SEC:"})," JWT configuration."]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"HAPI_TOKEN_NAME:"})," Name of the token."]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"HAPI_SYNC_POOL_EVERY_MILLISECOND, HAPI_FETCH_TOKEN_PRICE_EVERY_MILLISECOND, HAPI_SNAPSHOT_HISTORICAL_BALANCE_EVERY_MILLISECOND:"})," Sync intervals in milliseconds."]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"HAPI_SERVICES_CONFIG:"})," JSON configuration for services."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"hasura-graphql",children:"Hasura GraphQL"}),"\n",(0,r.jsx)(e.p,{children:"These variables configure the Hasura GraphQL instance:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"HASURA_GRAPHQL_ENABLE_CONSOLE:"})," Enables the console."]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"HASURA_GRAPHQL_DATABASE_URL:"})," Database URL for Hasura."]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"HASURA_GRAPHQL_ADMIN_SECRET:"})," Admin secret for Hasura."]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"HASURA_GRAPHQL_UNAUTHORIZED_ROLE:"})," Default role for unauthorized users."]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"HASURA_GRAPHQL_ACTION_BASE_URL:"})," Base URL for GraphQL actions."]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"HASURA_GRAPHQL_JWT_SECRET:"})," JWT secret for Hasura."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"servers-and-infrastructure",children:"Servers and Infrastructure"}),"\n",(0,r.jsx)(e.p,{children:"These variables relate to server and infrastructure setup:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"NAMESPACE:"})," Namespace for the deployment.",(0,r.jsx)(e.br,{}),"\n","Example: ",(0,r.jsx)(e.code,{children:"defactor-dev"})]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"INGRESS_GRAPHQL_HOST:"})," GraphQL API host URL.",(0,r.jsx)(e.br,{}),"\n","Example: ",(0,r.jsx)(e.code,{children:"api-dev.defactor.dev"})]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"KUBE_CONFIG_DATA:"})," Kubernetes configuration data."]}),"\n"]}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(a,{...n})}):a(n)}},8453:(n,e,s)=>{s.d(e,{R:()=>l,x:()=>t});var r=s(6540);const i={},o=r.createContext(i);function l(n){const e=r.useContext(o);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function t(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:l(n.components),r.createElement(o.Provider,{value:e},n.children)}}}]);