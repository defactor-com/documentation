<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-smart-contracts/ERC20CollateralPool/smart-contract-erc20-collateral-pool-example" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.1">
<title data-rh="true">Example | Defactor Developer Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.defactor.com/documentation/img/defactor-social-card.jpeg"><meta data-rh="true" name="twitter:image" content="https://docs.defactor.com/documentation/img/defactor-social-card.jpeg"><meta data-rh="true" property="og:url" content="https://docs.defactor.com/documentation/docs/smart-contracts/ERC20CollateralPool/smart-contract-erc20-collateral-pool-example"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Example | Defactor Developer Docs"><meta data-rh="true" name="description" content="In-depth Actions"><meta data-rh="true" property="og:description" content="In-depth Actions"><link data-rh="true" rel="icon" href="/documentation/img/Defactor_Favicon-32x32.png"><link data-rh="true" rel="canonical" href="https://docs.defactor.com/documentation/docs/smart-contracts/ERC20CollateralPool/smart-contract-erc20-collateral-pool-example"><link data-rh="true" rel="alternate" href="https://docs.defactor.com/documentation/docs/smart-contracts/ERC20CollateralPool/smart-contract-erc20-collateral-pool-example" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.defactor.com/documentation/docs/smart-contracts/ERC20CollateralPool/smart-contract-erc20-collateral-pool-example" hreflang="x-default"><link rel="stylesheet" href="/documentation/assets/css/styles.ec16f34d.css">
<script src="/documentation/assets/js/runtime~main.25852704.js" defer="defer"></script>
<script src="/documentation/assets/js/main.1ebac404.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/documentation/"><div class="navbar__logo"><img src="/documentation/img/Defactor-Logo-Dark.svg" alt="Defactor logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/documentation/img/Defactor-Logo-Light.svg" alt="Defactor logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/documentation/docs/category/api">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/defactor-com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/documentation/docs/category/api">API</a><button aria-label="Expand sidebar category &#x27;API&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/documentation/docs/category/smart-contracts">Smart Contracts</a><button aria-label="Collapse sidebar category &#x27;Smart Contracts&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/documentation/docs/category/pools-1">Pools</a><button aria-label="Expand sidebar category &#x27;Pools&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/documentation/docs/category/erc20-collateral-pool">ERC20 Collateral Pool</a><button aria-label="Collapse sidebar category &#x27;ERC20 Collateral Pool&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/docs/smart-contracts/ERC20CollateralPool/smart-contract-erc20-collateral-pool">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/docs/smart-contracts/ERC20CollateralPool/smart-contract-erc20-collateral-pool-technical-aspects">Technical Aspects</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/documentation/docs/smart-contracts/ERC20CollateralPool/smart-contract-erc20-collateral-pool-example">Example</a></li></ul></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/documentation/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/documentation/docs/category/smart-contracts"><span itemprop="name">Smart Contracts</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/documentation/docs/category/erc20-collateral-pool"><span itemprop="name">ERC20 Collateral Pool</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Example</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Example</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="in-depth-actions">In-depth Actions<a href="#in-depth-actions" class="hash-link" aria-label="Direct link to In-depth Actions" title="Direct link to In-depth Actions">​</a></h2>
<p>The happy path for this Smart Contract begins with the initialization of a pool and then a lender engages with the contract to lend money to the pool to allow a borrower interacts with the contract by borrowing according to the amount of money they need from the pool. A question that may arise in this point is what happen if the borrower decide to steal the loan (do not repay it), to avoid this scenario the borrower must provide collateral tokens that support the loan they are taking.</p>
<p>The borrower is required to repay the loan with interest before the pool&#x27;s term concludes to avoid liquidation. If the borrower fails to repay the loan, the pool will utilize the collateral to cover the outstanding amount, and the surplus will be liquidated. Any remaining funds can be claimed by the borrower based on the value of their collateral token.</p>
<p>Once the pool reaches the end of its active period, the lenders can claim their rewards.</p>
<p>Every time someone lends, a function runs in the background to update some variables values of the contract that matter to the lenders.</p>
<p>This function is responsible for updating the following variables: <code>rewardPerToken</code>, <code>rewardRate</code>, and <code>lastUpdated</code>. All of them are used to calculate the rewards for the lenders. This is how this function looks:</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pool.rewardPerToken += ((block.timestamp - pool.lastUpdated) *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            pool.rewardRate);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pool.rewardRate =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ((pool.borrowed - pool.repaid) * pool.interest * 1e18) /</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    (pool.lended * ONE_YEAR * HOUNDRED);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pool.lastUpdated = uint48(block.timestamp);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>As an example, the first time someone lends to the pool, the <code>rewardPerToken</code> will be <code>0</code>, the <code>rewardRate</code> will be the interest rate of the pool, and the <code>lastUpdated</code> will be the timestamp of the block when the first lender lends to the pool. The next time someone lends to the pool, the <code>rewardPerToken</code> will be updated based on the time passed since the last time someone lent to the pool, the <code>rewardRate</code> will be updated based on the amount of money borrowed, and the <code>lastUpdated</code> will be updated to the timestamp of the block when the last lender lends to the pool, and so forth until the pool finishes its active time.</p>
<p>Lets consider the following example to better understand how this flow works:</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="pool-lifecycle">Pool lifecycle<a href="#pool-lifecycle" class="hash-link" aria-label="Direct link to Pool lifecycle" title="Direct link to Pool lifecycle">​</a></h2>
<p>Event #1 -&gt; <em>Contract is initialized with one pool having gold as collateral and USDC as the lending token</em>.
Event #2 -&gt; Alice lends $100k to the pool.
Event #3 -&gt; Bob borrows $10k from the pool.
Event #4 -&gt; After 10 days, Bob repays the loan.
Event #5 -&gt; After 30 days, Alice can claims her rewards.</p>
<p>In this example, the information is focus on how the contract behaves in the previous events.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="event-1-contract-initialization">Event #1 (contract initialization)<a href="#event-1-contract-initialization" class="hash-link" aria-label="Direct link to Event #1 (contract initialization)" title="Direct link to Event #1 (contract initialization)">​</a></h3>
<ul>
<li>The contract is initialized by setting the admin, the USDC token, and the pools.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="event-2-lending">Event #2 (lending)<a href="#event-2-lending" class="hash-link" aria-label="Direct link to Event #2 (lending)" title="Direct link to Event #2 (lending)">​</a></h3>
<ul>
<li>
<p>Only existing and active pools will allow the process to go through the rest of the flow.</p>
</li>
<li>
<p>The contract will ask for USDC token approval to transfer the USDC tokens from the user&#x27;s wallet to the pool.</p>
</li>
<li>
<p>The update reward method is called.</p>
</li>
<li>
<p>A lending record is added to save the lending information.</p>
</li>
<li>
<p>An event <code>LendEvent</code> is emitted.</p>
</li>
<li>
<p>This is how it looks before and after the <code>lend</code> function call.</p>
</li>
</ul>
<p>Pool before lending:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;lended&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;borrowed&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;repaid&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;rewards&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;collateralTokenAmount&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;liquidatedCollateral&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;collateralTokenAmountAtLiquidation&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;rewardPerToken&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;rewardRate&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;lastUpdated&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;endTime&quot;: 1704920451,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;collateralDetails&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;collateralToken&quot;: &quot;0xCf7Ed3AccA5a467e9e704C703E8D87F634fB0Fc9&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;collateralTokenChainlink&quot;: &quot;0x5FC8d32690cc91D4c39d9d3abcBD16989F875707&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;collateralTokenFactor&quot;: 115,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;collateralTokenPercentage&quot;: 60</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;interest&quot;: 10,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;liquidated&quot;: false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Pool after lending:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;lended&quot;: 100000000000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;borrowed&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;repaid&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;rewards&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;collateralTokenAmount&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;liquidatedCollateral&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;collateralTokenAmountAtLiquidation&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;rewardPerToken&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;rewardRate&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;lastUpdated&quot;: 1702328455,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;endTime&quot;: 1704920451,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;collateralDetails&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;collateralToken&quot;: &quot;0xCf7Ed3AccA5a467e9e704C703E8D87F634fB0Fc9&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;collateralTokenChainlink&quot;: &quot;0x5FC8d32690cc91D4c39d9d3abcBD16989F875707&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;collateralTokenFactor&quot;: 115,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;collateralTokenPercentage&quot;: 60</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;interest&quot;: 10,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;liquidated&quot;: false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>There are some attributes to track like <code>lended</code> and <code>lastUpdated</code> that are updated but not only them were updated the variables <code>rewardPerToken</code> and <code>rewardRate</code> were also updated, what happened is that in the first call when someone lends, the current values of the pool are making them to have a value of 0 which seems like there were no update on them.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="event-3-borrowing">Event #3 (borrowing)<a href="#event-3-borrowing" class="hash-link" aria-label="Direct link to Event #3 (borrowing)" title="Direct link to Event #3 (borrowing)">​</a></h3>
<ul>
<li>
<p>Only existing and active pools will allow the process to go through the rest of the flow.</p>
<p>To be able to borrow, the pool should have enough funds to cover the loan which should be <code>lended + repaid + rewards - borrowed) &lt; amount_to_borrow</code>.</p>
</li>
<li>
<p>The contract will calculate the collateral based on the amount to borrow and the collateral price using the <code>chainlink</code> price feed (oracle), once all values are calculated, the contract will ask of token transfer from the collateral address, for this example it can be GOLD and SILVER but the contract allows any contract that follows the ERC20 standard.</p>
</li>
<li>
<p>When the collateral tokens are transferred to the contract, a borrowing record is added to save the borrowing information and some pool values updates will occur like the amount the pool has lended and the new total collateral token amount the pool has.</p>
</li>
<li>
<p>A last safe USDC token transfer is made to the borrower which represent the amount the pool is lending to the borrower.</p>
</li>
<li>
<p>The update reward method is called.</p>
</li>
<li>
<p>An event <code>BorrowEvent</code> is emitted.</p>
</li>
</ul>
<p>This is how it looks after the <code>borrow</code> function call.</p>
<p>The before pool state is the same as the last object.</p>
<p>Pool after borrowing:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;lended&quot;: &quot;100000000000&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;borrowed&quot;: &quot;10000000000&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;repaid&quot;: &quot;0&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;rewards&quot;: &quot;0&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;collateralTokenAmount&quot;: &quot;310005811536712244302&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;liquidatedCollateral&quot;: &quot;0&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;collateralTokenAmountAtLiquidation&quot;: &quot;0&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;rewardPerToken&quot;: &quot;0&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;rewardRate&quot;: &quot;317097919&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;lastUpdated&quot;: 1702329114,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;endTime&quot;: 1704921108,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;collateralDetails&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;collateralToken&quot;: &quot;0xCf7Ed3AccA5a467e9e704C703E8D87F634fB0Fc9&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;collateralTokenChainlink&quot;: &quot;0x5FC8d32690cc91D4c39d9d3abcBD16989F875707&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;collateralTokenFactor&quot;: 115,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;collateralTokenPercentage&quot;: 60</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;interest&quot;: 10,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;liquidated&quot;: false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="event-4-repaying">Event #4 (repaying)<a href="#event-4-repaying" class="hash-link" aria-label="Direct link to Event #4 (repaying)" title="Direct link to Event #4 (repaying)">​</a></h3>
<ul>
<li>
<p>Only existing and active pools will allow the process to go through the rest of the flow.</p>
</li>
<li>
<p>To repay a loan there are two main criteria the contract will check to allow the borrower to repay it, the first one is to check if the pool is still in its active period, if not, then the pool will use the collateral token to covert any outstanding amount, the second validation is if the loan has not been already paid.</p>
</li>
<li>
<p>Once the validations are passed, the contract will calculate the interest for the lent amount the borrow will need to pay.</p>
</li>
<li>
<p>The contract will ask for USDC token approval to transfer the USDC tokens from the user&#x27;s wallet to the pool once it&#x27;s finished the contract will return the collateral tokens to the borrower.</p>
</li>
<li>
<p>The update reward method is called.</p>
</li>
<li>
<p>An event <code>RepayEvent</code> is emitted.</p>
</li>
</ul>
<p>The before pool state is the same as the last object.</p>
<p>Pool after repaying:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;lended&quot;: &quot;100000000000&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;borrowed&quot;: &quot;10000000000&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;repaid&quot;: &quot;10000000000&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;rewards&quot;: &quot;27397355&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;collateralTokenAmount&quot;: &quot;0&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;liquidatedCollateral&quot;: &quot;0&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;collateralTokenAmountAtLiquidation&quot;: &quot;0&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;rewardPerToken&quot;: &quot;273973553309757&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;rewardRate&quot;: &quot;0&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;lastUpdated&quot;: 1703196299,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;endTime&quot;: 1704924290,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;collateralDetails&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;collateralToken&quot;: &quot;0xCf7Ed3AccA5a467e9e704C703E8D87F634fB0Fc9&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;collateralTokenChainlink&quot;: &quot;0x5FC8d32690cc91D4c39d9d3abcBD16989F875707&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;collateralTokenFactor&quot;: 115,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;collateralTokenPercentage&quot;: 60</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;interest&quot;: 10,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;liquidated&quot;: false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Now the repaid total amount is updated after the user repays the loan leaving the pool with the full lended amount available to lend.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="event-5-claiming">Event #5 (claiming)<a href="#event-5-claiming" class="hash-link" aria-label="Direct link to Event #5 (claiming)" title="Direct link to Event #5 (claiming)">​</a></h3>
<ul>
<li>
<p>Only existing and active pools will allow the process to go through the rest of the flow.</p>
</li>
<li>
<p>In order to claim the rewards, the pool active period should be over and not completed (liquidated collateral equal to cero and collateral token amount different from 0 and not liquidated).</p>
</li>
<li>
<p>Once the validations are done, then the contract will pay the rewards that belongs to the lender. This is calculated with the following formula:</p>
<div class="language-plaintext codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plaintext codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">lent amount + ( ( reward per token - reward per token ignored ) * lent amount ) / 1e18 )</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>An event <code>ClaimRewardsEvent</code> is emitted.</p>
</li>
</ul>
<p>The before pool state is the same as the last object.</p>
<p>Pool after claiming:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;lended&quot;: &quot;100000000000&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;borrowed&quot;: &quot;10000000000&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;repaid&quot;: &quot;10000000000&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;rewards&quot;: &quot;27397355&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;collateralTokenAmount&quot;: &quot;0&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;liquidatedCollateral&quot;: &quot;0&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;collateralTokenAmountAtLiquidation&quot;: &quot;0&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;rewardPerToken&quot;: &quot;273973553309757&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;rewardRate&quot;: &quot;0&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;lastUpdated&quot;: 1703199699,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;endTime&quot;: 1704927690,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;collateralDetails&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;collateralToken&quot;: &quot;0xCf7Ed3AccA5a467e9e704C703E8D87F634fB0Fc9&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;collateralTokenChainlink&quot;: &quot;0x5FC8d32690cc91D4c39d9d3abcBD16989F875707&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;collateralTokenFactor&quot;: 115,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;collateralTokenPercentage&quot;: 60</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;interest&quot;: 10,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;liquidated&quot;: false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>It&#x27;s the same, that&#x27;s because the only data that is updated is the lending information and after claim, this object looks like this:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;amount&quot;: &quot;100000000000&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;rewardPerTokenIgnored&quot;: &quot;0&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;claimed&quot;: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Since no other user lent money to the pool the <code>rewardPerTokenIgnored</code> for Alice is 0 allowing her to claim the full reward.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/documentation/docs/tags/borrow">Borrow</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/documentation/docs/tags/lend">Lend</a></li></ul></div></div><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/defactor-com/documentation/tree/main/docs/smart-contracts/ERC20CollateralPool/example.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/documentation/docs/smart-contracts/ERC20CollateralPool/smart-contract-erc20-collateral-pool-technical-aspects"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Technical Aspects</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#in-depth-actions" class="table-of-contents__link toc-highlight">In-depth Actions</a></li><li><a href="#pool-lifecycle" class="table-of-contents__link toc-highlight">Pool lifecycle</a><ul><li><a href="#event-1-contract-initialization" class="table-of-contents__link toc-highlight">Event #1 (contract initialization)</a></li><li><a href="#event-2-lending" class="table-of-contents__link toc-highlight">Event #2 (lending)</a></li><li><a href="#event-3-borrowing" class="table-of-contents__link toc-highlight">Event #3 (borrowing)</a></li><li><a href="#event-4-repaying" class="table-of-contents__link toc-highlight">Event #4 (repaying)</a></li><li><a href="#event-5-claiming" class="table-of-contents__link toc-highlight">Event #5 (claiming)</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/documentation/docs/category/api">API</a></li><li class="footer__item"><a class="footer__link-item" href="/documentation/docs/category/smart-contracts">Smart Contracts</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://t.me/defactor_official" target="_blank" rel="noopener noreferrer" class="footer__link-item">Telegram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.gg/S2SCMTPMUt" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/defactor_" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/defactor-com" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Defactor. All Rights Reserved</div></div></div></footer></div>
</body>
</html>